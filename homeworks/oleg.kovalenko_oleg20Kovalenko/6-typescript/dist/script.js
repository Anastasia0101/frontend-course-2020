(()=>{"use strict";const e=document.querySelector(".head-cub-num"),t=document.querySelector(".cube"),r=document.querySelector(".cube-score"),s=document.querySelector(".cube-num"),n=document.querySelector(".cube-score-letters"),i=document.querySelector(".myBar"),a=(document.querySelector(".myProgress"),["A","B","C","D","E","F","G","H","I","J","K","L","M","N","O","P","Q","R","S","T","U","V","W","X","Y","Z"]);new class{constructor(e,t,r,s){this.headCubNum=e,this.cubeScore=t,this.cubeNum=r,this.cube=s,this.score=100,this.currentKey="",this.interval=2e3,this.sign="+",this.startKeysInterval=setInterval((()=>{this.cubeScore.style.background="#eee",this.setChar(),this.setScore(this.score),this.progressBar()}),this.interval)}start(){this.autoSaveInterval(),this.subscribeOnKeyPress()}autoSaveInterval(){this.startKeysInterval}setScore(e){e>=200&&(alert("player win"),clearInterval(this.startKeysInterval)),e<=0&&(alert("player lost"),clearInterval(this.startKeysInterval))}progressBar(){let e=0;if(0==e){e=1;let t=1,r=setInterval((function(){t>=100?(clearInterval(r),e=0):(t++,i.style.width=t+"px")}),10)}}setKey(e){let t=0;e==this.currentKey?(r.style.background="#228B22",t=this.randomNumberAdd(5,10),this.sign="+"):(r.style.background="#F00",t=this.randomNumberAdd(20,25),this.sign="-"),this.addScore(t),s.innerHTML=String(this.sign+t),s.classList.add("hidden"),setTimeout((()=>{s.classList.remove("hidden")}),1500)}addScore(t){"+"==this.sign?this.score+=t:this.score-=t,e.innerHTML=String(this.score)}subscribeOnKeyPress(){window.addEventListener("keydown",(e=>{this.setKey(e.key.toUpperCase())}))}randomNumberAdd(e,t){return Math.floor(Math.random()*(t-e+1)+e)}setChar(){this.currentKey=a[Math.floor(Math.random()*a.length)],n.innerHTML=this.currentKey}}(e,r,t,s).start()})();
(()=>{"use strict";var t=document.querySelector("[data-score]"),e=document.querySelector("[data-cube-score]"),n=document.querySelector("[data-cube]"),i=document.querySelector("[data-key]"),s=document.querySelector("[data-notification]"),o=document.querySelector("[data-progress-top]"),r=document.querySelector("[data-progress-right]"),a=document.querySelector("[data-progress-left]"),c=document.querySelector("[data-progress-bottom]"),l=document.querySelector("[data-start]"),h=document.querySelector("[data-stop]"),m=document.querySelector("[data-new]"),d=new(function(){function l(t,e,n,i,s,o,r,a){this.scoreElement=t,this.cubeScoreElement=e,this.cubeElement=n,this.keyElement=i,this.progressBottom=s,this.progressLeft=o,this.progressTop=r,this.progressRight=a,this.interval=4e3,this.animationInterval=980,this.characters="ABCDEFGHIJKLMNOPQRSTUVWXYZ0123456789",this.charactersLength=this.characters.length,this.randomCharacters="",this.isKeyPress=!1}return l.prototype.start=function(){s.textContent="Get ready!",s.textContent="1",s.textContent="2",s.textContent="3",s.textContent="Start typing",this.cyclProgressAnimation(),document.addEventListener("keydown",this.submitting.bind(this)),s.textContent=""},l.prototype.stopGame=function(){i.textContent="",this.stopAnimation(),this.stoppingTimers(),document.removeEventListener("keydown",this.submitting.bind(this))},l.prototype.restart=function(){t.textContent="100",e.textContent="0",this.stopGame()},l.prototype.generateLetter=function(){var t=Math.floor(Math.random()*this.charactersLength+1);this.randomCharacters=this.characters[t-1],i.textContent=this.randomCharacters},l.prototype.checkingScore=function(e){e>200?(this.stopGame(),t.textContent="You Win!"):e<0&&(this.stopGame(),t.textContent="You Lose!")},l.prototype.ganeratePoint=function(i){if(i){var s=5,o=10,r=Math.floor(Math.random()*(o-s+1)+s);e.textContent="+"+r;var a=parseInt(t.textContent);t.textContent=""+(a+r);var c=parseInt(getComputedStyle(n).width);n.style.width=c+r+"px",n.style.height=c+r+"px"}else{s=void 0,o=void 0,this.isKeyPress?(s=20,o=25):(s=10,o=15),r=Math.floor(Math.random()*(o-s+1)+s),e.textContent="-"+r,a=parseInt(t.textContent),t.textContent=""+(a-r);var l=(c=parseInt(getComputedStyle(n).width))-r;n.style.width=l+"px",n.style.height=l+"px",this.checkingScore(l),this.isKeyPress=!1}},l.prototype.stopAnimation=function(){c.style.transition="none",a.style.transition="none",o.style.transition="none",r.style.transition="none",c.style.width="0",a.style.height="0",o.style.width="0",r.style.height="0",setTimeout((function(){c.style.transition=".98s all linear",a.style.transition=".98s all linear",o.style.transition=".98s all linear",r.style.transition=".98s all linear"}),40)},l.prototype.startAnimation=function(){var t=this;i.classList.replace("hidden","animated"),i.classList.replace("hidden-animated","animated"),this.generateLetter(),new Promise((function(t,e){c.style.width="100%",t()})).then((function(){return new Promise((function(e,n){t.timerleft=setTimeout((function(){a.style.height="100%",e()}),t.animationInterval)}))})).then((function(){return new Promise((function(e,n){t.timerTop=setTimeout((function(){o.style.width="100%",e()}),t.animationInterval)}))})).then((function(){return new Promise((function(e,n){t.timerRight=setTimeout((function(){i.classList.replace("animated-onPress","hidden-animated"),i.classList.replace("animated","hidden-animated"),r.style.height="100%",e()}),t.animationInterval)}))})).then((function(){return new Promise((function(e,n){t.disableAnimation=setTimeout((function(){t.stopAnimation(),t.ganeratePoint(!1),e()}),t.animationInterval)}))}))},l.prototype.cyclProgressAnimation=function(){var t=this;this.animationTimer=setInterval((function(){t.startAnimation()}),this.interval)},l.prototype.stoppingTimers=function(){clearInterval(this.disableAnimation),clearInterval(this.animationTimer),clearInterval(this.timerRight),clearInterval(this.timerTop),clearInterval(this.timerleft)},l.prototype.restartCycle=function(){var t=this;i.textContent="",i.classList.contains("animated-onPress")?i.classList.replace("animated-onPress","animated"):i.classList.replace("animated","animated-onPress"),this.stopAnimation(),setTimeout((function(){t.stoppingTimers(),t.startAnimation(),t.cyclProgressAnimation()}),50)},l.prototype.submitting=function(t){t.key===this.randomCharacters.toLocaleLowerCase()?(this.restartCycle(),this.ganeratePoint(!0)):(this.isKeyPress=!0,this.restartCycle(),this.ganeratePoint(!1))},l}())(t,e,n,i,c,a,o,r);l.addEventListener("click",(function(){d.start(),l.disabled=!0,h.disabled=!1})),h.addEventListener("click",(function(){l.disabled=!1,d.stopGame()})),m.addEventListener("click",(function(){h.disabled=!0,l.disabled=!1,d.restart()}))})();
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly82LXR5cGVzY3JpcHQvLi9zcmMvaW5kZXgudHMiXSwibmFtZXMiOlsic2NvcmVFbGVtZW50IiwiZG9jdW1lbnQiLCJxdWVyeVNlbGVjdG9yIiwiY3ViZVNjb3JlRWxlbWVudCIsImN1YmVFbGVtZW50Iiwia2V5RWxlbWVudCIsIm5vdGlmaWNhdGlvbiIsInByb2dyZXNzVG9wIiwicHJvZ3Jlc3NSaWdodCIsInByb2dyZXNzTGVmdCIsInByb2dyZXNzQm90dG9tIiwic3RhcnRCdG4iLCJzdG9wQnRuIiwibmV3R2FtZUJ0biIsImdhbWUiLCJpbnRlcnZhbCIsImFuaW1hdGlvbkludGVydmFsIiwiY2hhcmFjdGVycyIsImNoYXJhY3RlcnNMZW5ndGgiLCJ0aGlzIiwibGVuZ3RoIiwicmFuZG9tQ2hhcmFjdGVycyIsImlzS2V5UHJlc3MiLCJzdGFydCIsInRleHRDb250ZW50IiwiY3ljbFByb2dyZXNzQW5pbWF0aW9uIiwiYWRkRXZlbnRMaXN0ZW5lciIsInN1Ym1pdHRpbmciLCJiaW5kIiwic3RvcEdhbWUiLCJzdG9wQW5pbWF0aW9uIiwic3RvcHBpbmdUaW1lcnMiLCJyZW1vdmVFdmVudExpc3RlbmVyIiwicmVzdGFydCIsImdlbmVyYXRlTGV0dGVyIiwiaW5kZXgiLCJNYXRoIiwiZmxvb3IiLCJyYW5kb20iLCJjaGVja2luZ1Njb3JlIiwiY3VycmVudFNjb3JlIiwiZ2FuZXJhdGVQb2ludCIsImlzQ29ycmVjdEtleSIsIm1pbiIsIm1heCIsInBvaW50IiwidG90YWxTY29yZSIsInBhcnNlSW50IiwiY3ViZVNpemUiLCJnZXRDb21wdXRlZFN0eWxlIiwid2lkdGgiLCJzdHlsZSIsImhlaWdodCIsInBvaW50U3VtIiwidHJhbnNpdGlvbiIsInNldFRpbWVvdXQiLCJzdGFydEFuaW1hdGlvbiIsImNsYXNzTGlzdCIsInJlcGxhY2UiLCJQcm9taXNlIiwicmVzb2x2ZSIsInJlamVjdCIsInRoZW4iLCJ0aW1lcmxlZnQiLCJ0aW1lclRvcCIsInRpbWVyUmlnaHQiLCJkaXNhYmxlQW5pbWF0aW9uIiwiYW5pbWF0aW9uVGltZXIiLCJzZXRJbnRlcnZhbCIsImNsZWFySW50ZXJ2YWwiLCJyZXN0YXJ0Q3ljbGUiLCJjb250YWlucyIsImUiLCJrZXkiLCJ0b0xvY2FsZUxvd2VyQ2FzZSIsImRpc2FibGVkIl0sIm1hcHBpbmdzIjoibUJBQ0EsSUFBTUEsRUFBZUMsU0FBU0MsY0FBYyxnQkFDdENDLEVBQW1CRixTQUFTQyxjQUFjLHFCQUMxQ0UsRUFBY0gsU0FBU0MsY0FBYyxlQUNyQ0csRUFBYUosU0FBU0MsY0FBYyxjQUNwQ0ksRUFBZUwsU0FBU0MsY0FBYyx1QkFFdENLLEVBQWNOLFNBQVNDLGNBQWMsdUJBQ3JDTSxFQUFnQlAsU0FBU0MsY0FBYyx5QkFDdkNPLEVBQWVSLFNBQVNDLGNBQWMsd0JBQ3RDUSxFQUFpQlQsU0FBU0MsY0FBYywwQkFFeENTLEVBQVdWLFNBQVNDLGNBQWMsZ0JBQ2xDVSxFQUFVWCxTQUFTQyxjQUFjLGVBQ2pDVyxFQUFhWixTQUFTQyxjQUFjLGNBcU9wQ1ksRUFBTyxJQW5PYixXQWVJLFdBQ1lkLEVBQ0FHLEVBQ0FDLEVBQ0FDLEVBRUFLLEVBQ0FELEVBQ0FGLEVBQ0FDLEdBUkEsS0FBQVIsZUFDQSxLQUFBRyxtQkFDQSxLQUFBQyxjQUNBLEtBQUFDLGFBRUEsS0FBQUssaUJBQ0EsS0FBQUQsZUFDQSxLQUFBRixjQUNBLEtBQUFDLGdCQXZCSixLQUFBTyxTQUFtQixJQUNuQixLQUFBQyxrQkFBNEIsSUFDNUIsS0FBQUMsV0FBcUIsdUNBQ3JCLEtBQUFDLGlCQUEyQkMsS0FBS0YsV0FBV0csT0FPM0MsS0FBQUMsaUJBQTJCLEdBQzNCLEtBQUFDLFlBQXNCLEVBcU5sQyxPQXRNSSxZQUFBQyxNQUFBLFdBQ0lqQixFQUFha0IsWUFBYyxhQUMzQmxCLEVBQWFrQixZQUFjLElBQzNCbEIsRUFBYWtCLFlBQWMsSUFDM0JsQixFQUFha0IsWUFBYyxJQUMzQmxCLEVBQWFrQixZQUFjLGVBQzNCTCxLQUFLTSx3QkFDTHhCLFNBQVN5Qixp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QUFLbUQsZUFDTG5ELEtBQUtzQixlQUFjLEtBR25CdEIsS0FBS0csWUFBYSxFQUNsQkgsS0FBS21ELGVBQ0xuRCxLQUFLc0IsZUFBYyxLQUcvQixFQWpPQSxHQW1PYSxDQUNUekMsRUFDQUcsRUFDQUMsRUFDQUMsRUFDQUssRUFDQUQsRUFDQUYsRUFDQUMsR0FvQkpHLEVBQVNlLGlCQUFpQixTQWpCMUIsV0FDSVosRUFBS1MsUUFDTFosRUFBU2dFLFVBQVcsRUFDcEIvRCxFQUFRK0QsVUFBVyxLQWV2Qi9ELEVBQVFjLGlCQUFpQixTQVp6QixXQUNJZixFQUFTZ0UsVUFBVyxFQUNwQjdELEVBQUtlLGNBV1RoQixFQUFXYSxpQkFBaUIsU0FSNUIsV0FDSWQsRUFBUStELFVBQVcsRUFDbkJoRSxFQUFTZ0UsVUFBVyxFQUNwQjdELEVBQUttQixjIiwiZmlsZSI6InNjcmlwdC5qcyIsInNvdXJjZXNDb250ZW50IjpbIi8vIG1haW4gZ2FtZSBlbGVtZW50XG5jb25zdCBzY29yZUVsZW1lbnQgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCdbZGF0YS1zY29yZV0nKSBhcyBIVE1MSGVhZGluZ0VsZW1lbnQ7XG5jb25zdCBjdWJlU2NvcmVFbGVtZW50ID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignW2RhdGEtY3ViZS1zY29yZV0nKSBhcyBIVE1MSGVhZGluZ0VsZW1lbnQ7XG5jb25zdCBjdWJlRWxlbWVudCA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJ1tkYXRhLWN1YmVdJykgYXMgSFRNTERpdkVsZW1lbnQ7XG5jb25zdCBrZXlFbGVtZW50ID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignW2RhdGEta2V5XScpIGFzIEhUTUxEaXZFbGVtZW50O1xuY29uc3Qgbm90aWZpY2F0aW9uID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignW2RhdGEtbm90aWZpY2F0aW9uXScpIGFzIEhUTUxQYXJhZ3JhcGhFbGVtZW50O1xuLy8gcHJvZ3JlcyBiYXJyIGVsZW1lbnRcbmNvbnN0IHByb2dyZXNzVG9wID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignW2RhdGEtcHJvZ3Jlc3MtdG9wXScpIGFzIEhUTUxEaXZFbGVtZW50O1xuY29uc3QgcHJvZ3Jlc3NSaWdodCA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJ1tkYXRhLXByb2dyZXNzLXJpZ2h0XScpIGFzIEhUTUxEaXZFbGVtZW50O1xuY29uc3QgcHJvZ3Jlc3NMZWZ0ID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignW2RhdGEtcHJvZ3Jlc3MtbGVmdF0nKSBhcyBIVE1MRGl2RWxlbWVudDtcbmNvbnN0IHByb2dyZXNzQm90dG9tID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignW2RhdGEtcHJvZ3Jlc3MtYm90dG9tXScpIGFzIEhUTUxEaXZFbGVtZW50O1xuLy8gYnV0dG9uIGVsZW1lbnRcbmNvbnN0IHN0YXJ0QnRuID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignW2RhdGEtc3RhcnRdJykgYXMgSFRNTEJ1dHRvbkVsZW1lbnQ7XG5jb25zdCBzdG9wQnRuID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignW2RhdGEtc3RvcF0nKSBhcyBIVE1MQnV0dG9uRWxlbWVudDtcbmNvbnN0IG5ld0dhbWVCdG4gPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCdbZGF0YS1uZXddJykgYXMgSFRNTEJ1dHRvbkVsZW1lbnQ7XG5cbmNsYXNzIEdhbWUge1xuICAgIHByaXZhdGUgaW50ZXJ2YWw6IG51bWJlciA9IDQwMDA7XG4gICAgcHJpdmF0ZSBhbmltYXRpb25JbnRlcnZhbDogbnVtYmVyID0gOTgwO1xuICAgIHByaXZhdGUgY2hhcmFjdGVyczogc3RyaW5nID0gJ0FCQ0RFRkdISUpLTE1OT1BRUlNUVVZXWFlaMDEyMzQ1Njc4OSc7XG4gICAgcHJpdmF0ZSBjaGFyYWN0ZXJzTGVuZ3RoOiBudW1iZXIgPSB0aGlzLmNoYXJhY3RlcnMubGVuZ3RoO1xuXG4gICAgcHJpdmF0ZSBhbmltYXRpb25UaW1lcjogYW55O1xuICAgIHByaXZhdGUgdGltZXJSaWdodDogYW55O1xuICAgIHByaXZhdGUgdGltZXJUb3A6IGFueTtcbiAgICBwcml2YXRlIHRpbWVybGVmdDogYW55O1xuICAgIHByaXZhdGUgZGlzYWJsZUFuaW1hdGlvbjogYW55O1xuICAgIHByaXZhdGUgcmFuZG9tQ2hhcmFjdGVyczogc3RyaW5nID0gJyc7XG4gICAgcHJpdmF0ZSBpc0tleVByZXNzOiBib29sZWFuID0gZmFsc2U7XG5cblxuICAgIGNvbnN0cnVjdG9yIChcbiAgICAgICAgcHJpdmF0ZSBzY29yZUVsZW1lbnQ6IEhUTUxIZWFkaW5nRWxlbWVudCxcbiAgICAgICAgcHJpdmF0ZSBjdWJlU2NvcmVFbGVtZW50OiBIVE1MSGVhZGluZ0VsZW1lbnQsXG4gICAgICAgIHByaXZhdGUgY3ViZUVsZW1lbnQ6IEhUTUxEaXZFbGVtZW50LFxuICAgICAgICBwcml2YXRlIGtleUVsZW1lbnQ6IEhUTUxEaXZFbGVtZW50LFxuXG4gICAgICAgIHByaXZhdGUgcHJvZ3Jlc3NCb3R0b206IEhUTUxEaXZFbGVtZW50LFxuICAgICAgICBwcml2YXRlIHByb2dyZXNzTGVmdDogSFRNTERpdkVsZW1lbnQsXG4gICAgICAgIHByaXZhdGUgcHJvZ3Jlc3NUb3A6IEhUTUxEaXZFbGVtZW50LFxuICAgICAgICBwcml2YXRlIHByb2dyZXNzUmlnaHQ6IEhUTUxEaXZFbGVtZW50LFxuICAgICkge31cblxuICAgIHN0YXJ0KCkge1xuICAgICAgICBub3RpZmljYXRpb24udGV4dENvbnRlbnQgPSAnR2V0IHJlYWR5ISc7XG4gICAgICAgIG5vdGlmaWNhdGlvbi50ZXh0Q29udGVudCA9ICcxJztcbiAgICAgICAgbm90aWZpY2F0aW9uLnRleHRDb250ZW50ID0gJzInO1xuICAgICAgICBub3RpZmljYXRpb24udGV4dENvbnRlbnQgPSAnMyc7XG4gICAgICAgIG5vdGlmaWNhdGlvbi50ZXh0Q29udGVudCA9ICdTdGFydCB0eXBpbmcnO1xuICAgICAgICB0aGlzLmN5Y2xQcm9ncmVzc0FuaW1hdGlvbigpO1xuICAgICAgICBkb2N1bWVudC5hZGRFdmVudExpc3RlbmVyKCdrZXlkb3duJywgdGhpcy5zdWJtaXR0aW5nLmJpbmQodGhpcykpO1xuICAgICAgICBub3RpZmljYXRpb24udGV4dENvbnRlbnQgPSAnJztcbiAgICB9XG5cbiAgICBzdG9wR2FtZSgpIHtcbiAgICAgICAga2V5RWxlbWVudC50ZXh0Q29udGVudCA9ICcnO1xuICAgICAgICB0aGlzLnN0b3BBbmltYXRpb24oKTtcbiAgICAgICAgdGhpcy5zdG9wcGluZ1RpbWVycygpO1xuICAgICAgICBkb2N1bWVudC5yZW1vdmVFdmVudExpc3RlbmVyKCdrZXlkb3duJywgdGhpcy5zdWJtaXR0aW5nLmJpbmQodGhpcykpO1xuICAgIH1cblxuICAgIHJlc3RhcnQoKSB7XG4gICAgICAgIHNjb3JlRWxlbWVudC50ZXh0Q29udGVudCA9ICcxMDAnO1xuICAgICAgICBjdWJlU2NvcmVFbGVtZW50LnRleHRDb250ZW50ID0gJzAnO1xuICAgICAgICB0aGlzLnN0b3BHYW1lKCk7XG4gICAgfVxuXG4gICAgcHJpdmF0ZSBnZW5lcmF0ZUxldHRlcigpIHtcbiAgICAgICAgY29uc3QgaW5kZXg6IG51bWJlciA9IE1hdGguZmxvb3IoKE1hdGgucmFuZG9tKCkgKiB0aGlzLmNoYXJhY3RlcnNMZW5ndGgpICsgMSk7XG4gICAgICAgIHRoaXMucmFuZG9tQ2hhcmFjdGVycyA9IHRoaXMuY2hhcmFjdGVyc1tpbmRleCAtIDFdO1xuICAgICAgICBrZXlFbGVtZW50LnRleHRDb250ZW50ID0gdGhpcy5yYW5kb21DaGFyYWN0ZXJzO1xuICAgIH1cblxuICAgIHByaXZhdGUgY2hlY2tpbmdTY29yZShjdXJyZW50U2NvcmU6IG51bWJlcikge1xuICAgICAgICBpZiAoY3VycmVudFNjb3JlID4gMjAwKSB7XG4gICAgICAgICAgICB0aGlzLnN0b3BHYW1lKCk7XG4gICAgICAgICAgICBzY29yZUVsZW1lbnQudGV4dENvbnRlbnQgPSAnWW91IFdpbiEnXG4gICAgICAgIH0gZWxzZSBpZiAoY3VycmVudFNjb3JlIDwgMCkge1xuICAgICAgICAgICAgdGhpcy5zdG9wR2FtZSgpO1xuICAgICAgICAgICAgc2NvcmVFbGVtZW50LnRleHRDb250ZW50ID0gJ1lvdSBMb3NlISdcbiAgICAgICAgfVxuICAgIH1cblxuXG4gICAgcHJpdmF0ZSBnYW5lcmF0ZVBvaW50KGlzQ29ycmVjdEtleTogYm9vbGVhbikge1xuICAgICAgICAvLyBpZiBwcmVzc2VkIHN1Y2Nlc3NmdWxseVxuICAgICAgICBpZiAoaXNDb3JyZWN0S2V5KSB7XG4gICAgICAgICAgICAvLyBnZW5lcmF0ZSByYW5kb20gbnVtYmVyXG4gICAgICAgICAgICBjb25zdCBtaW46IG51bWJlciA9IDU7XG4gICAgICAgICAgICBjb25zdCBtYXg6IG51bWJlciA9IDEwO1xuICAgICAgICAgICAgY29uc3QgcG9pbnQ6IG51bWJlciA9IE1hdGguZmxvb3IoKE1hdGgucmFuZG9tKCkgKiAobWF4IC0gbWluICsgMSkpICsgbWluKTtcbiAgICAgICAgICAgIC8vIGluc2VydGluZyB0aGlzIGFtb3VudCBpbiBET01cbiAgICAgICAgICAgIGN1YmVTY29yZUVsZW1lbnQudGV4dENvbnRlbnQgPSBgKyR7cG9pbnR9YDtcbiAgICAgICAgICAgIGNvbnN0IHRvdGFsU2NvcmU6IG51bWJlciA9IHBhcnNlSW50KHNjb3JlRWxlbWVudC50ZXh0Q29udGVudCEpO1xuICAgICAgICAgICAgc2NvcmVFbGVtZW50LnRleHRDb250ZW50ID0gYCR7dG90YWxTY29yZSArIHBvaW50fWA7XG4gICAgICAgICAgICAvLyBjaGFuZ2luZyBjdWJlIHNpemUgXG4gICAgICAgICAgICBjb25zdCBjdWJlU2l6ZTogbnVtYmVyID0gcGFyc2VJbnQoZ2V0Q29tcHV0ZWRTdHlsZShjdWJlRWxlbWVudCwpLndpZHRoKTtcbiAgICAgICAgICAgIGN1YmVFbGVtZW50LnN0eWxlLndpZHRoID0gYCR7Y3ViZVNpemUgKyBwb2ludH1weGA7XG4gICAgICAgICAgICBjdWJlRWxlbWVudC5zdHlsZS5oZWlnaHQgPSBgJHtjdWJlU2l6ZSArIHBvaW50fXB4YDtcbiAgICAgICAgLy8gaWYgZmFpbCB0byBwcmVzc1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgbGV0IG1pbjogbnVtYmVyO1xuICAgICAgICAgICAgbGV0IG1heDogbnVtYmVyO1xuICAgICAgICAgICAgLy8gZ2VuZXJhdGUgcmFuZG9tIG51bWJlclxuICAgICAgICAgICAgaWYgKHRoaXMuaXNLZXlQcmVzcykge1xuICAgICAgICAgICAgICAgIG1pbiA9IDIwO1xuICAgICAgICAgICAgICAgIG1heCA9IDI1O1xuICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICBtaW4gPSAxMDtcbiAgICAgICAgICAgICAgICBtYXggPSAxNTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGNvbnN0IHBvaW50OiBudW1iZXIgPSBNYXRoLmZsb29yKChNYXRoLnJhbmRvbSgpICogKG1heCAtIG1pbiArIDEpKSArIG1pbik7XG4gICAgICAgICAgICAvLyBpbnNlcnRpbmcgdGhpcyBhbW91bnQgaW4gRE9NXG4gICAgICAgICAgICBjdWJlU2NvcmVFbGVtZW50LnRleHRDb250ZW50ID0gYC0ke3BvaW50fWA7XG4gICAgICAgICAgICBjb25zdCB0b3RhbFNjb3JlOiBudW1iZXIgPSBwYXJzZUludChzY29yZUVsZW1lbnQudGV4dENvbnRlbnQhKTtcbiAgICAgICAgICAgIHNjb3JlRWxlbWVudC50ZXh0Q29udGVudCA9IGAke3RvdGFsU2NvcmUgLSBwb2ludH1gO1xuICAgICAgICAgICAgLy8gY2hhbmdpbmcgY3ViZSBzaXplIFxuICAgICAgICAgICAgY29uc3QgY3ViZVNpemU6IG51bWJlciA9IHBhcnNlSW50KGdldENvbXB1dGVkU3R5bGUoY3ViZUVsZW1lbnQsKS53aWR0aCk7XG4gICAgICAgICAgICBjb25zdCBwb2ludFN1bTogbnVtYmVyID0gY3ViZVNpemUgLSBwb2ludDtcbiAgICAgICAgICAgIGN1YmVFbGVtZW50LnN0eWxlLndpZHRoID0gYCR7cG9pbnRTdW19cHhgO1xuICAgICAgICAgICAgY3ViZUVsZW1lbnQuc3R5bGUuaGVpZ2h0ID0gYCR7cG9pbnRTdW19cHhgO1xuICAgICAgICAgICAgdGhpcy5jaGVja2luZ1Njb3JlKHBvaW50U3VtKTtcbiAgICAgICAgICAgIHRoaXMuaXNLZXlQcmVzcyA9IGZhbHNlO1xuICAgICAgICB9XG4gICAgfVxuXG4gICAgLy8gc3RvcHBpbmcgYW5pbWF0aW9uIHdpdGggbGl0dGxlIGRlbGV5IHRvIGFwcGx5IHN0eWxlcyBjb3JyZWN0bHlcbiAgICBwcml2YXRlIHN0b3BBbmltYXRpb24oKSB7XG4gICAgICAgIHByb2dyZXNzQm90dG9tLnN0eWxlLnRyYW5zaXRpb24gPSAnbm9uZSc7XG4gICAgICAgIHByb2dyZXNzTGVmdC5zdHlsZS50cmFuc2l0aW9uID0gJ25vbmUnO1xuICAgICAgICBwcm9ncmVzc1RvcC5zdHlsZS50cmFuc2l0aW9uID0gJ25vbmUnO1xuICAgICAgICBwcm9ncmVzc1JpZ2h0LnN0eWxlLnRyYW5zaXRpb24gPSAnbm9uZSc7XG5cbiAgICAgICAgcHJvZ3Jlc3NCb3R0b20uc3R5bGUud2lkdGggPSAnMCc7XG4gICAgICAgIHByb2dyZXNzTGVmdC5zdHlsZS5oZWlnaHQgPSAnMCc7XG4gICAgICAgIHByb2dyZXNzVG9wLnN0eWxlLndpZHRoID0gJzAnO1xuICAgICAgICBwcm9ncmVzc1JpZ2h0LnN0eWxlLmhlaWdodCA9ICcwJztcblxuICAgICAgICBzZXRUaW1lb3V0KCgpID0+IHtcbiAgICAgICAgICAgIHByb2dyZXNzQm90dG9tLnN0eWxlLnRyYW5zaXRpb24gPSAnLjk4cyBhbGwgbGluZWFyJztcbiAgICAgICAgICAgIHByb2dyZXNzTGVmdC5zdHlsZS50cmFuc2l0aW9uID0gJy45OHMgYWxsIGxpbmVhcic7XG4gICAgICAgICAgICBwcm9ncmVzc1RvcC5zdHlsZS50cmFuc2l0aW9uID0gJy45OHMgYWxsIGxpbmVhcic7XG4gICAgICAgICAgICBwcm9ncmVzc1JpZ2h0LnN0eWxlLnRyYW5zaXRpb24gPSAnLjk4cyBhbGwgbGluZWFyJztcbiAgICAgICAgfSwgNDApO1xuICAgIH1cblxuICAgIC8vIHNydGluZyBhbmltYXRpb24gZXZlcnkgdHdvIHNlY29uZFxuICAgIHByaXZhdGUgc3RhcnRBbmltYXRpb24oKSB7XG4gICAgICAgIGtleUVsZW1lbnQuY2xhc3NMaXN0LnJlcGxhY2UoJ2hpZGRlbicsICdhbmltYXRlZCcpO1xuICAgICAgICBrZXlFbGVtZW50LmNsYXNzTGlzdC5yZXBsYWNlKCdoaWRkZW4tYW5pbWF0ZWQnLCAnYW5pbWF0ZWQnKTtcbiAgICAgICAgLy8gZ2FuZXJhdGUgY2hhcmFjdGVycyBldmVyeSB0d28gc2Vjb25kXG4gICAgICAgIHRoaXMuZ2VuZXJhdGVMZXR0ZXIoKTtcbiAgICAgICAgLy8gc3RhcnQgcHJvZ3Jlc3MgYmFyIGFuaW1hdGlvbnMgd2l0aCBkZWxleSBmb3IgZWFjaCAvIGJvdHRvbSBsaW5lXG4gICAgICAgIG5ldyBQcm9taXNlKChyZXNvbHZlOiAodmFsdWU/OiBhbnkpID0+IHZvaWQsIHJlamVjdDogKHJlYXNvbj86IGFueSkgPT4gdm9pZCk6IHZvaWQgPT4ge1xuICAgICAgICAgICAgICAgIHByb2dyZXNzQm90dG9tLnN0eWxlLndpZHRoID0gJzEwMCUnO1xuICAgICAgICAgICAgcmVzb2x2ZSgpO1xuICAgICAgICB9KVxuICAgICAgICAvLyBsZWZ0IGxpbmVcbiAgICAgICAgLnRoZW4oKCkgPT4ge1xuICAgICAgICAgICAgcmV0dXJuIG5ldyBQcm9taXNlKChyZXNvbHZlOiAodmFsdWU/OiBhbnkpID0+IHZvaWQsIHJlamVjdDogKHJlYXNvbj86IGFueSkgPT4gdm9pZCk6IHZvaWQgPT4ge1xuICAgICAgICAgICAgICAgIHRoaXMudGltZXJsZWZ0ID0gc2V0VGltZW91dCgoKSA9PiB7XG4gICAgICAgICAgICAgICAgICAgIHByb2dyZXNzTGVmdC5zdHlsZS5oZWlnaHQgPSAnMTAwJSc7XG4gICAgICAgICAgICAgICAgICAgIHJlc29sdmUoKTtcbiAgICAgICAgICAgICAgICB9LCB0aGlzLmFuaW1hdGlvbkludGVydmFsKTtcbiAgICAgICAgICAgIH0pO1xuICAgICAgICB9KVxuICAgICAgICAvLyB0b3AgbGluZVxuICAgICAgICAudGhlbigoKSA9PiB7XG4gICAgICAgICAgICByZXR1cm4gbmV3IFByb21pc2UoKHJlc29sdmU6ICh2YWx1ZT86IGFueSkgPT4gdm9pZCwgcmVqZWN0OiAocmVhc29uPzogYW55KSA9PiB2b2lkKTogdm9pZCA9PiB7XG4gICAgICAgICAgICAgICAgdGhpcy50aW1lclRvcCA9IHNldFRpbWVvdXQoKCkgPT4ge1xuICAgICAgICAgICAgICAgICAgICBwcm9ncmVzc1RvcC5zdHlsZS53aWR0aCA9ICcxMDAlJztcbiAgICAgICAgICAgICAgICAgICAgcmVzb2x2ZSgpO1xuICAgICAgICAgICAgICAgIH0sIHRoaXMuYW5pbWF0aW9uSW50ZXJ2YWwpO1xuICAgICAgICAgICAgfSk7XG4gICAgICAgIH0pXG4gICAgICAgIC8vIHJpZ2h0IGxpbmVcbiAgICAgICAgLnRoZW4oKCkgPT4ge1xuICAgICAgICAgICAgcmV0dXJuIG5ldyBQcm9taXNlKChyZXNvbHZlOiAodmFsdWU/OiBhbnkpID0+IHZvaWQsIHJlamVjdDogKHJlYXNvbj86IGFueSkgPT4gdm9pZCk6IHZvaWQgPT4ge1xuICAgICAgICAgICAgICAgIHRoaXMudGltZXJSaWdodCA9IHNldFRpbWVvdXQoKCkgPT4ge1xuICAgICAgICAgICAgICAgICAgICBrZXlFbGVtZW50LmNsYXNzTGlzdC5yZXBsYWNlKCdhbmltYXRlZC1vblByZXNzJywgJ2hpZGRlbi1hbmltYXRlZCcpO1xuICAgICAgICAgICAgICAgICAgICBrZXlFbGVtZW50LmNsYXNzTGlzdC5yZXBsYWNlKCdhbmltYXRlZCcsICdoaWRkZW4tYW5pbWF0ZWQnKTtcbiAgICAgICAgICAgICAgICAgICAgcHJvZ3Jlc3NSaWdodC5zdHlsZS5oZWlnaHQgPSAnMTAwJSc7XG4gICAgICAgICAgICAgICAgICAgIHJlc29sdmUoKTtcbiAgICAgICAgICAgICAgICB9LCB0aGlzLmFuaW1hdGlvbkludGVydmFsKTtcbiAgICAgICAgICAgIH0pO1xuICAgICAgICB9KVxuICAgICAgICAvLyBkaXNhYmxlIGFuaW1hdGlvblxuICAgICAgICAudGhlbigoKSA9PiB7XG4gICAgICAgICAgICByZXR1cm4gbmV3IFByb21pc2UoKHJlc29sdmU6ICh2YWx1ZT86IGFueSkgPT4gdm9pZCwgcmVqZWN0OiAocmVhc29uPzogYW55KSA9PiB2b2lkKTogdm9pZCA9PiB7XG4gICAgICAgICAgICAgICAgdGhpcy5kaXNhYmxlQW5pbWF0aW9uID0gc2V0VGltZW91dCgoKSA9PiB7XG4gICAgICAgICAgICAgICAgICAgIHRoaXMuc3RvcEFuaW1hdGlvbigpO1xuICAgICAgICAgICAgICAgICAgICB0aGlzLmdhbmVyYXRlUG9pbnQoZmFsc2UpO1xuICAgICAgICAgICAgICAgICAgICByZXNvbHZlKCk7XG4gICAgICAgICAgICAgICAgfSwgdGhpcy5hbmltYXRpb25JbnRlcnZhbCk7XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgfSlcbiAgICB9XG5cbiAgICBwcml2YXRlIGN5Y2xQcm9ncmVzc0FuaW1hdGlvbigpIHtcbiAgICAgICAgdGhpcy5hbmltYXRpb25UaW1lciA9IHNldEludGVydmFsKCgpID0+IHtcbiAgICAgICAgICAgIHRoaXMuc3RhcnRBbmltYXRpb24oKTtcbiAgICAgICAgfSwgdGhpcy5pbnRlcnZhbCk7XG4gICAgfVxuXG4gICAgLy8gY2xlYXQgYWxsIHRpbWVyIHRvIHN0YXJ0IG5ldyBjaWNsIGFuaW1hdGlvbiBvciBzdG9wIHRoZSBnYW1lXG4gICAgcHJpdmF0ZSBzdG9wcGluZ1RpbWVycygpIHtcbiAgICAgICAgY2xlYXJJbnRlcnZhbCh0aGlzLmRpc2FibGVBbmltYXRpb24pO1xuICAgICAgICBjbGVhckludGVydmFsKHRoaXMuYW5pbWF0aW9uVGltZXIpO1xuICAgICAgICBjbGVhckludGVydmFsKHRoaXMudGltZXJSaWdodCk7XG4gICAgICAgIGNsZWFySW50ZXJ2YWwodGhpcy50aW1lclRvcCk7XG4gICAgICAgIGNsZWFySW50ZXJ2YWwodGhpcy50aW1lcmxlZnQpO1xuICAgIH1cblxuICAgIHByaXZhdGUgcmVzdGFydEN5Y2xlKCkge1xuICAgICAgICBrZXlFbGVtZW50LnRleHRDb250ZW50ID0gJyc7XG4gICAgICAgIGlmIChrZXlFbGVtZW50LmNsYXNzTGlzdC5jb250YWlucygnYW5pbWF0ZWQtb25QcmVzcycpKSB7XG4gICAgICAgICAgICBrZXlFbGVtZW50LmNsYXNzTGlzdC5yZXBsYWNlKCdhbmltYXRlZC1vblByZXNzJywgJ2FuaW1hdGVkJyk7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICBrZXlFbGVtZW50LmNsYXNzTGlzdC5yZXBsYWNlKCdhbmltYXRlZCcsICdhbmltYXRlZC1vblByZXNzJyk7XG4gICAgICAgIH1cbiAgICAgICAgdGhpcy5zdG9wQW5pbWF0aW9uKCk7XG4gICAgICAgIHNldFRpbWVvdXQoKCkgPT4ge1xuICAgICAgICAgICAgdGhpcy5zdG9wcGluZ1RpbWVycygpO1xuICAgICAgICAgICAgdGhpcy5zdGFydEFuaW1hdGlvbigpO1xuICAgICAgICAgICAgdGhpcy5jeWNsUHJvZ3Jlc3NBbmltYXRpb24oKTtcbiAgICAgICAgfSwgNTApO1xuICAgIH1cblxuICAgIHByaXZhdGUgc3VibWl0dGluZyhlOiBhbnkpIHtcbiAgICAgICAgY29uc3QgcHJlc3NlZEtleTogc3RyaW5nID0gZS5rZXk7XG4gICAgICAgIGNvbnN0IHNob3dlZENoYXJhY3RlcnM6IHN0cmluZyA9IHRoaXMucmFuZG9tQ2hhcmFjdGVycy50b0xvY2FsZUxvd2VyQ2FzZSgpO1xuICAgICAgICBpZiAocHJlc3NlZEtleSA9PT0gc2hvd2VkQ2hhcmFjdGVycykge1xuICAgICAgICAgICAgdGhpcy5yZXN0YXJ0Q3ljbGUoKTtcbiAgICAgICAgICAgIHRoaXMuZ2FuZXJhdGVQb2ludCh0cnVlKTtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgIHRoaXMuaXNLZXlQcmVzcyA9IHRydWU7XG4gICAgICAgICAgICB0aGlzLnJlc3RhcnRDeWNsZSgpO1xuICAgICAgICAgICAgdGhpcy5nYW5lcmF0ZVBvaW50KGZhbHNlKTtcbiAgICAgICAgfVxuICAgIH1cbn1cblxuY29uc3QgZ2FtZSA9IG5ldyBHYW1lKFxuICAgIHNjb3JlRWxlbWVudCxcbiAgICBjdWJlU2NvcmVFbGVtZW50LFxuICAgIGN1YmVFbGVtZW50LFxuICAgIGtleUVsZW1lbnQsXG4gICAgcHJvZ3Jlc3NCb3R0b20sXG4gICAgcHJvZ3Jlc3NMZWZ0LFxuICAgIHByb2dyZXNzVG9wLFxuICAgIHByb2dyZXNzUmlnaHRcbik7XG5cbmZ1bmN0aW9uIHN0YXJ0KCkge1xuICAgIGdhbWUuc3RhcnQoKTtcbiAgICBzdGFydEJ0bi5kaXNhYmxlZCA9IHRydWU7XG4gICAgc3RvcEJ0bi5kaXNhYmxlZCA9IGZhbHNlO1xufVxuXG5mdW5jdGlvbiBzdG9wKCkge1xuICAgIHN0YXJ0QnRuLmRpc2FibGVkID0gZmFsc2U7XG4gICAgZ2FtZS5zdG9wR2FtZSgpO1xufVxuXG5mdW5jdGlvbiByZXN0YXJ0KCkge1xuICAgIHN0b3BCdG4uZGlzYWJsZWQgPSB0cnVlO1xuICAgIHN0YXJ0QnRuLmRpc2FibGVkID0gZmFsc2U7XG4gICAgZ2FtZS5yZXN0YXJ0KCk7XG59XG5cbnN0YXJ0QnRuLmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgc3RhcnQpO1xuc3RvcEJ0bi5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsIHN0b3ApO1xubmV3R2FtZUJ0bi5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsIHJlc3RhcnQpO1xuIl0sInNvdXJjZVJvb3QiOiIifQ==
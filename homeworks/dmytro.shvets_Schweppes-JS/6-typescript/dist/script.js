(()=>{"use strict";var t=document.querySelector("[data-score]"),e=document.querySelector("[data-cube-score]"),i=document.querySelector("[data-cube]"),n=document.querySelector("[data-key]"),s=document.querySelector("[data-notification]"),o=document.querySelector("[data-progress-top]"),r=document.querySelector("[data-progress-right]"),a=document.querySelector("[data-progress-left]"),c=document.querySelector("[data-progress-bottom]"),h=document.querySelector("[data-start]"),l=document.querySelector("[data-stop]"),d=document.querySelector("[data-new]"),u=new(function(){function d(t,e,i,n,s,o,r,a,c,h){var l=this;this.scoreElement=t,this.cubeScoreElement=e,this.cubeElement=i,this.keyElement=n,this.progressBottom=s,this.progressLeft=o,this.progressTop=r,this.progressRight=a,this.startBtn=c,this.stoptBtn=h,this.score=100,this.interval=2e3,this.characters="ABCDEFGHIJKLMNOPQRSTUVWXYZ",this.charactersLength=this.characters.length,this.randomCharacters="",this.isKeyPress=!1,this.submitting=function(t){t.key===l.randomCharacters.toLocaleLowerCase()?l.ganeratePoint(!0):(l.isKeyPress=!0,l.ganeratePoint(!1))}}return d.prototype.counting=function(){var t=this;setTimeout((function(){return s.textContent="1"}),500),setTimeout((function(){return s.textContent="2"}),1e3),setTimeout((function(){return s.textContent="3"}),1500),setTimeout((function(){document.addEventListener("keypress",t.submitting),s.textContent="Start typing!"}),2e3),setTimeout((function(){return s.textContent=""}),3e3)},d.prototype.cycleProgressAnimation=function(){var t=this;this.animationTimer=window.setInterval((function(){t.startAnimation()}),this.interval)},d.prototype.generateLetter=function(){var t=Math.floor(Math.random()*this.charactersLength+1);this.randomCharacters=this.characters[t-1],n.textContent=this.randomCharacters},d.prototype.checkingScore=function(e){e>=200||e<=0?(this.stopGame(),t.textContent=e>=200?"You Win!":"You Lose!",h.disabled=!0,l.disabled=!0):this.restartCycle()},d.prototype.ganeratePoint=function(n){if(n){var s=5,o=10,r=Math.floor(Math.random()*(o-s+1)+s);this.score=this.score+r,i.style.width=this.score+"px",i.style.height=this.score+"px",e.textContent="+"+r,t.textContent=""+this.score,this.checkingScore(this.score)}else s=void 0,o=void 0,this.isKeyPress?(s=20,o=25):(s=10,o=15),r=Math.floor(Math.random()*(o-s+1)+s),this.score=this.score-r,i.style.width=this.score+"px",i.style.height=this.score+"px",this.isKeyPress=!1,e.textContent="-"+r,t.textContent=""+this.score,this.checkingScore(this.score)},d.prototype.stopAnimation=function(){c.style.transition="none",a.style.transition="none",o.style.transition="none",r.style.transition="none",c.style.width="0",a.style.height="0",o.style.width="0",r.style.height="0",setTimeout((function(){c.style.transition=".48s all linear",a.style.transition=".48s all linear",o.style.transition=".48s all linear",r.style.transition=".48s all linear"}),40)},d.prototype.startAnimation=function(){var t=this;n.classList.replace("hidden","animated"),n.classList.replace("hidden-animated","animated"),this.generateLetter(),this.timerBottom=window.setTimeout((function(){return c.style.width="100%"}),50),this.timerleft=window.setTimeout((function(){return a.style.height="100%"}),480),this.timerTop=window.setTimeout((function(){return o.style.width="100%"}),960),this.timerRight=window.setTimeout((function(){r.style.height="100%",n.classList.replace("animated-on-press","hidden-animated"),n.classList.replace("animated","hidden-animated")}),1440),this.disableAnimation=window.setTimeout((function(){t.stopAnimation(),t.ganeratePoint(!1)}),1920)},d.prototype.stoppingTimers=function(){clearInterval(this.disableAnimation),clearInterval(this.animationTimer),clearInterval(this.timerRight),clearInterval(this.timerTop),clearInterval(this.timerleft),clearInterval(this.timerBottom)},d.prototype.restartCycle=function(){var t=this;n.textContent="",n.classList.contains("animated-on-press")?n.classList.replace("animated-on-press","animated"):n.classList.replace("animated","animated-on-press"),this.stopAnimation(),setTimeout((function(){t.stoppingTimers(),t.startAnimation(),t.cycleProgressAnimation()}),50)},d.prototype.start=function(){this.counting(),this.cycleProgressAnimation(),s.textContent=""},d.prototype.stopGame=function(){n.textContent="",s.textContent="",this.stoppingTimers(),c.style.width="0",this.stopAnimation(),document.removeEventListener("keypress",this.submitting)},d.prototype.restart=function(){this.score=100,t.textContent="100",e.textContent="0",i.style.width="100px",i.style.height="100px",this.stopGame()},d}())(t,e,i,n,c,a,o,r,h,l);h.addEventListener("click",(function(){u.start(),h.disabled=!0,setTimeout((function(){return l.disabled=!1}),2e3)})),l.addEventListener("click",(function(){h.disabled=!1,l.disabled=!0,u.stopGame()})),d.addEventListener("click",(function(){l.disabled=!0,h.disabled=!1,u.restart()}))})();
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly82LXR5cGVzY3JpcHQvLi9zcmMvaW5kZXgudHMiXSwibmFtZXMiOlsic2NvcmVFbGVtZW50IiwiZG9jdW1lbnQiLCJxdWVyeVNlbGVjdG9yIiwiY3ViZVNjb3JlRWxlbWVudCIsImN1YmVFbGVtZW50Iiwia2V5RWxlbWVudCIsIm5vdGlmaWNhdGlvbiIsInByb2dyZXNzVG9wIiwicHJvZ3Jlc3NSaWdodCIsInByb2dyZXNzTGVmdCIsInByb2dyZXNzQm90dG9tIiwic3RhcnRCdG4iLCJzdG9wQnRuIiwibmV3R2FtZUJ0biIsImdhbWUiLCJzdG9wdEJ0biIsInNjb3JlIiwiaW50ZXJ2YWwiLCJjaGFyYWN0ZXJzIiwiY2hhcmFjdGVyc0xlbmd0aCIsInRoaXMiLCJsZW5ndGgiLCJyYW5kb21DaGFyYWN0ZXJzIiwiaXNLZXlQcmVzcyIsInN1Ym1pdHRpbmciLCJlIiwia2V5IiwidG9Mb2NhbGVMb3dlckNhc2UiLCJnYW5lcmF0ZVBvaW50IiwiY291bnRpbmciLCJzZXRUaW1lb3V0IiwidGV4dENvbnRlbnQiLCJhZGRFdmVudExpc3RlbmVyIiwiY3ljbGVQcm9ncmVzc0FuaW1hdGlvbiIsImFuaW1hdGlvblRpbWVyIiwid2luZG93Iiwic2V0SW50ZXJ2YWwiLCJzdGFydEFuaW1hdGlvbiIsImdlbmVyYXRlTGV0dGVyIiwiaW5kZXgiLCJNYXRoIiwiZmxvb3IiLCJyYW5kb20iLCJjaGVja2luZ1Njb3JlIiwiY3VycmVudFNjb3JlIiwic3RvcEdhbWUiLCJkaXNhYmxlZCIsInJlc3RhcnRDeWNsZSIsImlzQ29ycmVjdEtleSIsIm1pbiIsIm1heCIsInBvaW50Iiwic3R5bGUiLCJ3aWR0aCIsImhlaWdodCIsInN0b3BBbmltYXRpb24iLCJ0cmFuc2l0aW9uIiwiY2xhc3NMaXN0IiwicmVwbGFjZSIsInRpbWVyQm90dG9tIiwidGltZXJsZWZ0IiwidGltZXJUb3AiLCJ0aW1lclJpZ2h0IiwiZGlzYWJsZUFuaW1hdGlvbiIsInN0b3BwaW5nVGltZXJzIiwiY2xlYXJJbnRlcnZhbCIsImNvbnRhaW5zIiwic3RhcnQiLCJyZW1vdmVFdmVudExpc3RlbmVyIiwicmVzdGFydCJdLCJtYXBwaW5ncyI6Im1CQUNBLElBQU1BLEVBQWVDLFNBQVNDLGNBQWtDLGdCQUMxREMsRUFBbUJGLFNBQVNDLGNBQWtDLHFCQUM5REUsRUFBY0gsU0FBU0MsY0FBOEIsZUFDckRHLEVBQWFKLFNBQVNDLGNBQThCLGNBQ3BESSxFQUFlTCxTQUFTQyxjQUFvQyx1QkFFNURLLEVBQWNOLFNBQVNDLGNBQThCLHVCQUNyRE0sRUFBZ0JQLFNBQVNDLGNBQThCLHlCQUN2RE8sRUFBZVIsU0FBU0MsY0FBOEIsd0JBQ3REUSxFQUFpQlQsU0FBU0MsY0FBOEIsMEJBRXhEUyxFQUFXVixTQUFTQyxjQUFpQyxnQkFDckRVLEVBQVVYLFNBQVNDLGNBQWlDLGVBQ3BEVyxFQUFhWixTQUFTQyxjQUFpQyxjQXlOdkRZLEVBQU8sSUF2TmIsV0FpQkksV0FDWWQsRUFDQUcsRUFDQUMsRUFDQUMsRUFDQUssRUFDQUQsRUFDQUYsRUFDQUMsRUFDQUcsRUFDQUksR0FWWixXQUNZLEtBQUFmLGVBQ0EsS0FBQUcsbUJBQ0EsS0FBQUMsY0FDQSxLQUFBQyxhQUNBLEtBQUFLLGlCQUNBLEtBQUFELGVBQ0EsS0FBQUYsY0FDQSxLQUFBQyxnQkFDQSxLQUFBRyxXQUNBLEtBQUFJLFdBekJKLEtBQUFDLE1BQWdCLElBQ2hCLEtBQUFDLFNBQW1CLElBQ25CLEtBQUFDLFdBQXFCLDZCQUNyQixLQUFBQyxpQkFBMkJDLEtBQUtGLFdBQVdHLE9BUzNDLEtBQUFDLGlCQUEyQixHQUMzQixLQUFBQyxZQUFzQixFQW1LdEIsS0FBQUMsV0FBYSxTQUFDQyxHQUNTQSxFQUFFQyxNQUNJLEVBQUtKLGlCQUFpQkssb0JBRW5ELEVBQUtDLGVBQWMsSUFHbkIsRUFBS0wsWUFBYSxFQUNsQixFQUFLSyxlQUFjLEtBMkIvQixPQXRMSSxZQUFBQyxTQUFBLHNCQUNJQyxZQUFXLFdBQU0sT0FBQXhCLEVBQWN5QixZQUFjLE1BQUssS0FDbERELFlBQVcsV0FBTSxPQUFBeEIsRUFBY3lCLFlBQWMsTUFBSyxLQUNsREQsWUFBVyxXQUFNLE9BQUF4QixFQUFjeUIsWUFBYyxNQUFLLE1BQ2xERCxZQUFXLFdBQ1A3QixTQUFTK0IsaUJBQWlCLFdBQVksRUFBS1IsWUFDM0NsQixFQUFjeUIsWUFBYyxrQkFDN0IsS0FDSEQsWUFBVyxXQUFNLE9BQUF4QixFQUFjeUIsWUFBYyxLQUFJLE1BSTdDLFlBQUFFLHVCQUFSLHNCQUNJYixLQUFLYyxlQUFpQkMsT0FBT0MsYUFBWSxXQUNyQyxFQUFLQyxtQkFDTmpCLEtBQUtILFdBSUosWUFBQXFCLGVBQVIsV0FDSSxJQUFNQyxFQUFnQkMsS0FBS0MsTUFBT0QsS0FBS0UsU0FBV3RCLEtBQUtELGlCQUFvQixHQUMzRUMsS0FBS0UsaUJBQW1CRixLQUFLRixXQUFXcUIsRUFBUSxHQUNoRGxDLEVBQVkwQixZQUFjWCxLQUFLRSxrQkFJM0IsWUFBQXFCLGNBQVIsU0FBc0JDLEdBQ2RBLEdBQWdCLEtBQU9BLEdBQWdCLEdBQ3ZDeEIsS0FBS3lCLFdBQ0w3QyxFQUFjK0IsWUFBY2EsR0FBZ0IsSUFBTyxXQUFhLFlBQ2hFakMsRUFBVW1DLFVBQVcsRUFDckJsQyxFQUFTa0MsVUFBVyxHQUNqQjFCLEtBQUsyQixnQkFJUixZQUFBbkIsY0FBUixTQUFzQm9CLEdBRWxCLEdBQUlBLEVBQWMsQ0FFZCxJQUFNQyxFQUFjLEVBQ2RDLEVBQWMsR0FDZEMsRUFBZ0JYLEtBQUtDLE1BQU9ELEtBQUtFLFVBQVlRLEVBQU1ELEVBQU0sR0FBTUEsR0FFckU3QixLQUFLSixNQUFRSSxLQUFLSixNQUFRbUMsRUFDMUIvQyxFQUFhZ0QsTUFBTUMsTUFBV2pDLEtBQUtKLE1BQUssS0FDeENaLEVBQWFnRCxNQUFNRSxPQUFZbEMsS0FBS0osTUFBSyxLQUV6Q2IsRUFBa0I0QixZQUFjLElBQUlvQixFQUNwQ25ELEVBQWMrQixZQUFjLEdBQUdYLEtBQUtKLE1BQ3BDSSxLQUFLdUIsY0FBY3ZCLEtBQUtKLFlBSXBCaUMsT0FBRyxFQUNIQyxPQUFHLEVBQ0g5QixLQUFLRyxZQUNMMEIsRUFBTSxHQUNOQyxFQUFNLEtBRU5ELEVBQU0sR0FDTkMsRUFBTSxJQUVKQyxFQUFnQlgsS0FBS0MsTUFBT0QsS0FBS0UsVUFBWVEsRUFBTUQsRUFBTSxHQUFNQSxHQUVyRTdCLEtBQUtKLE1BQVFJLEtBQUtKLE1BQVFtQyxFQUMxQi9DLEVBQWFnRCxNQUFNQyxNQUFXakMsS0FBS0osTUFBSyxLQUN4Q1osRUFBYWdELE1BQU1FLE9BQVlsQyxLQUFLSixNQUFLLEtBQ3pDSSxLQUFLRyxZQUFhLEVBRWxCcEIsRUFBa0I0QixZQUFjLElBQUlvQixFQUNwQ25ELEVBQWMrQixZQUFjLEdBQUdYLEtBQUtKLE1BQ3BDSSxLQUFLdUIsY0FBY3ZCLEtBQUtKLFFBS3hCLFlBQUF1QyxjQUFSLFdBRUk3QyxFQUFnQjBDLE1BQU1JLFdBQWEsT0FDbkMvQyxFQUFjMkMsTUFBTUksV0FBYSxPQUNqQ2pELEVBQWE2QyxNQUFNSSxXQUFhLE9BQ2hDaEQsRUFBZTRDLE1BQU1JLFdBQWEsT0FFbEM5QyxFQUFnQjBDLE1BQU1DLE1BQVEsSUFDOUI1QyxFQUFjMkMsTUFBTUUsT0FBUyxJQUM3Qi9DLEVBQWE2QyxNQUFNQyxNQUFRLElBQzNCN0MsRUFBZTRDLE1BQU1FLE9BQVMsSUFFOUJ4QixZQUFXLFdBQ1BwQixFQUFnQjBDLE1BQU1JLFdBQWEsa0JBQ25DL0MsRUFBYzJDLE1BQU1JLFdBQWEsa0JBQ2pDakQsRUFBYTZDLE1BQU1JLFdBQWEsa0JBQ2hDaEQsRUFBZTRDLE1BQU1JLFdBQWEsb0JBQ25DLEtBSUMsWUFBQW5CLGVBQVIsc0JBQ0loQyxFQUFZb0QsVUFBVUMsUUFBUSxTQUFVLFlBQ3hDckQsRUFBWW9ELFVBQVVDLFFBQVEsa0JBQW1CLFlBRWpEdEMsS0FBS2tCLGlCQUVMbEIsS0FBS3VDLFlBQWN4QixPQUFPTCxZQUFXLFdBQU0sT0FBQXBCLEVBQWdCMEMsTUFBTUMsTUFBUSxTQUFRLElBQ2pGakMsS0FBS3dDLFVBQVl6QixPQUFPTCxZQUFXLFdBQU0sT0FBQXJCLEVBQWMyQyxNQUFNRSxPQUFTLFNBQVEsS0FDOUVsQyxLQUFLeUMsU0FBVzFCLE9BQU9MLFlBQVcsV0FBTSxPQUFBdkIsRUFBYTZDLE1BQU1DLE1BQVEsU0FBUSxLQUMzRWpDLEtBQUswQyxXQUFhM0IsT0FBT0wsWUFBVyxXQUNoQ3RCLEVBQWU0QyxNQUFNRSxPQUFTLE9BQzlCakQsRUFBWW9ELFVBQVVDLFFBQVEsb0JBQXFCLG1CQUNuRHJELEVBQVlvRCxVQUFVQyxRQUFRLFdBQVkscUJBQzNDLE1BQ0h0QyxLQUFLMkMsaUJBQW1CNUIsT0FBT0wsWUFBVyxXQUN0QyxFQUFLeUIsZ0JBQ0wsRUFBSzNCLGVBQWMsS0FDcEIsT0FJQyxZQUFBb0MsZUFBUixXQUNJQyxjQUFjN0MsS0FBSzJDLGtCQUNuQkUsY0FBYzdDLEtBQUtjLGdCQUNuQitCLGNBQWM3QyxLQUFLMEMsWUFDbkJHLGNBQWM3QyxLQUFLeUMsVUFDbkJJLGNBQWM3QyxLQUFLd0MsV0FDbkJLLGNBQWM3QyxLQUFLdUMsY0FJZixZQUFBWixhQUFSLHNCQUNJMUMsRUFBWTBCLFlBQWMsR0FFdEIxQixFQUFZb0QsVUFBVVMsU0FBUyxxQkFDL0I3RCxFQUFZb0QsVUFBVUMsUUFBUSxvQkFBcUIsWUFFbkRyRCxFQUFZb0QsVUFBVUMsUUFBUSxXQUFZLHFCQUU5Q3RDLEtBQUttQyxnQkFFTHpCLFlBQVcsV0FDUCxFQUFLa0MsaUJBQ0wsRUFBSzNCLGlCQUNMLEVBQUtKLDJCQUNOLEtBZ0JQLFlBQUFrQyxNQUFBLFdBQ0kvQyxLQUFLUyxXQUNMVCxLQUFLYSx5QkFDTDNCLEVBQWN5QixZQUFjLElBR2hDLFlBQUFjLFNBQUEsV0FDSXhDLEVBQVkwQixZQUFjLEdBQzFCekIsRUFBY3lCLFlBQWMsR0FDNUJYLEtBQUs0QyxpQkFDTHRELEVBQWdCMEMsTUFBTUMsTUFBUSxJQUM5QmpDLEtBQUttQyxnQkFDTHRELFNBQVNtRSxvQkFBb0IsV0FBWWhELEtBQUtJLGFBR2xELFlBQUE2QyxRQUFBLFdBQ0lqRCxLQUFLSixNQUFRLElBQ2JoQixFQUFjK0IsWUFBYyxNQUM1QjVCLEVBQWtCNEIsWUFBYyxJQUNoQzNCLEVBQWFnRCxNQUFNQyxNQUFRLFFBQzNCakQsRUFBYWdELE1BQU1FLE9BQVMsUUFDNUJsQyxLQUFLeUIsWUFFYixFQXJOQSxHQXVOYSxDQUNUN0MsRUFDQUcsRUFDQUMsRUFDQUMsRUFDQUssRUFDQUQsRUFDQUYsRUFDQUMsRUFDQUcsRUFDQUMsR0FxQkpELEVBQVVxQixpQkFBaUIsU0FsQjNCLFdBQ0lsQixFQUFLcUQsUUFDTHhELEVBQVVtQyxVQUFXLEVBQ3JCaEIsWUFBVyxXQUFNLE9BQUFsQixFQUFTa0MsVUFBVyxJQUFPLFFBZ0JoRGxDLEVBQVNvQixpQkFBaUIsU0FiMUIsV0FDSXJCLEVBQVVtQyxVQUFXLEVBQ3JCbEMsRUFBU2tDLFVBQVcsRUFDcEJoQyxFQUFLK0IsY0FXVGhDLEVBQVltQixpQkFBaUIsU0FSN0IsV0FDSXBCLEVBQVNrQyxVQUFXLEVBQ3BCbkMsRUFBVW1DLFVBQVcsRUFDckJoQyxFQUFLdUQsYyIsImZpbGUiOiJzY3JpcHQuanMiLCJzb3VyY2VzQ29udGVudCI6WyIvLyBtYWluIGdhbWUgZWxlbWVudFxuY29uc3Qgc2NvcmVFbGVtZW50ID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcjxIVE1MSGVhZGluZ0VsZW1lbnQ+KCdbZGF0YS1zY29yZV0nKTtcbmNvbnN0IGN1YmVTY29yZUVsZW1lbnQgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yPEhUTUxIZWFkaW5nRWxlbWVudD4oJ1tkYXRhLWN1YmUtc2NvcmVdJyk7XG5jb25zdCBjdWJlRWxlbWVudCA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3I8SFRNTERpdkVsZW1lbnQ+KCdbZGF0YS1jdWJlXScpO1xuY29uc3Qga2V5RWxlbWVudCA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3I8SFRNTERpdkVsZW1lbnQ+KCdbZGF0YS1rZXldJyk7XG5jb25zdCBub3RpZmljYXRpb24gPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yPEhUTUxQYXJhZ3JhcGhFbGVtZW50PignW2RhdGEtbm90aWZpY2F0aW9uXScpO1xuLy8gcHJvZ3JlcyBiYXJyIGVsZW1lbnRcbmNvbnN0IHByb2dyZXNzVG9wID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcjxIVE1MRGl2RWxlbWVudD4oJ1tkYXRhLXByb2dyZXNzLXRvcF0nKTtcbmNvbnN0IHByb2dyZXNzUmlnaHQgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yPEhUTUxEaXZFbGVtZW50PignW2RhdGEtcHJvZ3Jlc3MtcmlnaHRdJyk7XG5jb25zdCBwcm9ncmVzc0xlZnQgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yPEhUTUxEaXZFbGVtZW50PignW2RhdGEtcHJvZ3Jlc3MtbGVmdF0nKTtcbmNvbnN0IHByb2dyZXNzQm90dG9tID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcjxIVE1MRGl2RWxlbWVudD4oJ1tkYXRhLXByb2dyZXNzLWJvdHRvbV0nKTtcbi8vIGJ1dHRvbiBlbGVtZW50XG5jb25zdCBzdGFydEJ0biA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3I8SFRNTEJ1dHRvbkVsZW1lbnQ+KCdbZGF0YS1zdGFydF0nKTtcbmNvbnN0IHN0b3BCdG4gPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yPEhUTUxCdXR0b25FbGVtZW50PignW2RhdGEtc3RvcF0nKTtcbmNvbnN0IG5ld0dhbWVCdG4gPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yPEhUTUxCdXR0b25FbGVtZW50PignW2RhdGEtbmV3XScpO1xuXG5jbGFzcyBHYW1lIHtcbiAgICAvLyBtYWluIGdhbWUgdmFyaWFibGVzXG4gICAgcHJpdmF0ZSBzY29yZTogbnVtYmVyID0gMTAwO1xuICAgIHByaXZhdGUgaW50ZXJ2YWw6IG51bWJlciA9IDIwMDA7XG4gICAgcHJpdmF0ZSBjaGFyYWN0ZXJzOiBzdHJpbmcgPSAnQUJDREVGR0hJSktMTU5PUFFSU1RVVldYWVonO1xuICAgIHByaXZhdGUgY2hhcmFjdGVyc0xlbmd0aDogbnVtYmVyID0gdGhpcy5jaGFyYWN0ZXJzLmxlbmd0aDtcbiAgICAvLyB0aW1lcnMgZm9yIGFuaW1hdGlvblxuICAgIHByaXZhdGUgdGltZXJCb3R0b20hOiBudW1iZXI7XG4gICAgcHJpdmF0ZSBhbmltYXRpb25UaW1lciE6IG51bWJlcjtcbiAgICBwcml2YXRlIHRpbWVyUmlnaHQhOiBudW1iZXI7XG4gICAgcHJpdmF0ZSB0aW1lclRvcCE6IG51bWJlcjtcbiAgICBwcml2YXRlIHRpbWVybGVmdCE6IG51bWJlcjtcbiAgICBwcml2YXRlIGRpc2FibGVBbmltYXRpb24hOiBudW1iZXI7XG5cbiAgICBwcml2YXRlIHJhbmRvbUNoYXJhY3RlcnM6IHN0cmluZyA9ICcnO1xuICAgIHByaXZhdGUgaXNLZXlQcmVzczogYm9vbGVhbiA9IGZhbHNlO1xuXG4gICAgY29uc3RydWN0b3IgKFxuICAgICAgICBwcml2YXRlIHNjb3JlRWxlbWVudDogSFRNTEhlYWRpbmdFbGVtZW50LFxuICAgICAgICBwcml2YXRlIGN1YmVTY29yZUVsZW1lbnQ6IEhUTUxIZWFkaW5nRWxlbWVudCxcbiAgICAgICAgcHJpdmF0ZSBjdWJlRWxlbWVudDogSFRNTERpdkVsZW1lbnQsXG4gICAgICAgIHByaXZhdGUga2V5RWxlbWVudDogSFRNTERpdkVsZW1lbnQsXG4gICAgICAgIHByaXZhdGUgcHJvZ3Jlc3NCb3R0b206IEhUTUxEaXZFbGVtZW50LFxuICAgICAgICBwcml2YXRlIHByb2dyZXNzTGVmdDogSFRNTERpdkVsZW1lbnQsXG4gICAgICAgIHByaXZhdGUgcHJvZ3Jlc3NUb3A6IEhUTUxEaXZFbGVtZW50LFxuICAgICAgICBwcml2YXRlIHByb2dyZXNzUmlnaHQ6IEhUTUxEaXZFbGVtZW50LFxuICAgICAgICBwcml2YXRlIHN0YXJ0QnRuOiBIVE1MQnV0dG9uRWxlbWVudCxcbiAgICAgICAgcHJpdmF0ZSBzdG9wdEJ0bjogSFRNTEJ1dHRvbkVsZW1lbnQsXG4gICAgKSB7fVxuXG4gICAgLy8gc3RhcnQgdGV4dCBjb3VudGluZ1xuICAgIGNvdW50aW5nKCkge1xuICAgICAgICBzZXRUaW1lb3V0KCgpID0+IG5vdGlmaWNhdGlvbiEudGV4dENvbnRlbnQgPSAnMScsIDUwMCk7XG4gICAgICAgIHNldFRpbWVvdXQoKCkgPT4gbm90aWZpY2F0aW9uIS50ZXh0Q29udGVudCA9ICcyJywgMTAwMCk7XG4gICAgICAgIHNldFRpbWVvdXQoKCkgPT4gbm90aWZpY2F0aW9uIS50ZXh0Q29udGVudCA9ICczJywgMTUwMCk7XG4gICAgICAgIHNldFRpbWVvdXQoKCkgPT4ge1xuICAgICAgICAgICAgZG9jdW1lbnQuYWRkRXZlbnRMaXN0ZW5lcigna2V5cHJlc3MnLCB0aGlzLnN1Ym1pdHRpbmcpO1xuICAgICAgICAgICAgbm90aWZpY2F0aW9uIS50ZXh0Q29udGVudCA9ICdTdGFydCB0eXBpbmchJ1xuICAgICAgICB9LCAyMDAwKTtcbiAgICAgICAgc2V0VGltZW91dCgoKSA9PiBub3RpZmljYXRpb24hLnRleHRDb250ZW50ID0gJycsIDMwMDApO1xuICAgIH1cblxuICAgIC8vIHBlcmZvcm0gYW5pbWF0aW9uIGV2ZXJ5IDIgc2Vjb25kc1xuICAgIHByaXZhdGUgY3ljbGVQcm9ncmVzc0FuaW1hdGlvbigpIHtcbiAgICAgICAgdGhpcy5hbmltYXRpb25UaW1lciA9IHdpbmRvdy5zZXRJbnRlcnZhbCgoKSA9PiB7XG4gICAgICAgICAgICB0aGlzLnN0YXJ0QW5pbWF0aW9uKCk7XG4gICAgICAgIH0sIHRoaXMuaW50ZXJ2YWwpO1xuICAgIH1cblxuICAgIC8vIGdldHRpbmcgcmFuZG9tIGNoYXJhY3RlclxuICAgIHByaXZhdGUgZ2VuZXJhdGVMZXR0ZXIoKSB7XG4gICAgICAgIGNvbnN0IGluZGV4OiBudW1iZXIgPSBNYXRoLmZsb29yKChNYXRoLnJhbmRvbSgpICogdGhpcy5jaGFyYWN0ZXJzTGVuZ3RoKSArIDEpO1xuICAgICAgICB0aGlzLnJhbmRvbUNoYXJhY3RlcnMgPSB0aGlzLmNoYXJhY3RlcnNbaW5kZXggLSAxXTtcbiAgICAgICAga2V5RWxlbWVudCEudGV4dENvbnRlbnQgPSB0aGlzLnJhbmRvbUNoYXJhY3RlcnM7XG4gICAgfVxuXG4gICAgLy8gY2hlY2tpbmcgY3VycmVudCBzY29yZVxuICAgIHByaXZhdGUgY2hlY2tpbmdTY29yZShjdXJyZW50U2NvcmU6IG51bWJlcikge1xuICAgICAgICBpZiAoY3VycmVudFNjb3JlID49IDIwMCB8fCBjdXJyZW50U2NvcmUgPD0gMCkge1xuICAgICAgICAgICAgdGhpcy5zdG9wR2FtZSgpO1xuICAgICAgICAgICAgc2NvcmVFbGVtZW50IS50ZXh0Q29udGVudCA9IGN1cnJlbnRTY29yZSA+PSAyMDAgPyAgJ1lvdSBXaW4hJyA6ICdZb3UgTG9zZSEnO1xuICAgICAgICAgICAgc3RhcnRCdG4hLmRpc2FibGVkID0gdHJ1ZTtcbiAgICAgICAgICAgIHN0b3BCdG4hLmRpc2FibGVkID0gdHJ1ZTtcbiAgICAgICAgfSBlbHNlIHRoaXMucmVzdGFydEN5Y2xlKCk7XG4gICAgfVxuXG4gICAgLy8gc2V0dGluZyByYW5kb20gcG9pbnQgYW5kIGNoYW5nZSBjdWJlIHNpemVcbiAgICBwcml2YXRlIGdhbmVyYXRlUG9pbnQoaXNDb3JyZWN0S2V5OiBib29sZWFuKSB7XG4gICAgICAgIC8vIGlmIHByZXNzZWQgc3VjY2Vzc2Z1bGx5XG4gICAgICAgIGlmIChpc0NvcnJlY3RLZXkpIHtcbiAgICAgICAgICAgIC8vIGdlbmVyYXRlIHJhbmRvbSBudW1iZXJcbiAgICAgICAgICAgIGNvbnN0IG1pbjogbnVtYmVyID0gNTtcbiAgICAgICAgICAgIGNvbnN0IG1heDogbnVtYmVyID0gMTA7XG4gICAgICAgICAgICBjb25zdCBwb2ludDogbnVtYmVyID0gTWF0aC5mbG9vcigoTWF0aC5yYW5kb20oKSAqIChtYXggLSBtaW4gKyAxKSkgKyBtaW4pO1xuICAgICAgICAgICAgLy8gY2hhbmdpbmcgY3ViZSBzaXplIFxuICAgICAgICAgICAgdGhpcy5zY29yZSA9IHRoaXMuc2NvcmUgKyBwb2ludDtcbiAgICAgICAgICAgIGN1YmVFbGVtZW50IS5zdHlsZS53aWR0aCA9IGAke3RoaXMuc2NvcmV9cHhgO1xuICAgICAgICAgICAgY3ViZUVsZW1lbnQhLnN0eWxlLmhlaWdodCA9IGAke3RoaXMuc2NvcmV9cHhgO1xuICAgICAgICAgICAgLy8gaW5zZXJ0aW5nIHRoaXMgYW1vdW50IGluIERPTVxuICAgICAgICAgICAgY3ViZVNjb3JlRWxlbWVudCEudGV4dENvbnRlbnQgPSBgKyR7cG9pbnR9YDtcbiAgICAgICAgICAgIHNjb3JlRWxlbWVudCEudGV4dENvbnRlbnQgPSBgJHt0aGlzLnNjb3JlfWA7XG4gICAgICAgICAgICB0aGlzLmNoZWNraW5nU2NvcmUodGhpcy5zY29yZSk7XG4gICAgICAgIC8vIGlmIGZhaWwgdG8gcHJlc3NcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIC8vIGdlbmVyYXRlIHJhbmRvbSBudW1iZXIgYmV0d2VlbiBtaW4gYW5kIG1heFxuICAgICAgICAgICAgbGV0IG1pbjogbnVtYmVyO1xuICAgICAgICAgICAgbGV0IG1heDogbnVtYmVyO1xuICAgICAgICAgICAgaWYgKHRoaXMuaXNLZXlQcmVzcykge1xuICAgICAgICAgICAgICAgIG1pbiA9IDIwO1xuICAgICAgICAgICAgICAgIG1heCA9IDI1O1xuICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICBtaW4gPSAxMDtcbiAgICAgICAgICAgICAgICBtYXggPSAxNTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGNvbnN0IHBvaW50OiBudW1iZXIgPSBNYXRoLmZsb29yKChNYXRoLnJhbmRvbSgpICogKG1heCAtIG1pbiArIDEpKSArIG1pbik7XG4gICAgICAgICAgICAvLyBjaGFuZ2luZyBjdWJlIHNpemUgXG4gICAgICAgICAgICB0aGlzLnNjb3JlID0gdGhpcy5zY29yZSAtIHBvaW50O1xuICAgICAgICAgICAgY3ViZUVsZW1lbnQhLnN0eWxlLndpZHRoID0gYCR7dGhpcy5zY29yZX1weGA7XG4gICAgICAgICAgICBjdWJlRWxlbWVudCEuc3R5bGUuaGVpZ2h0ID0gYCR7dGhpcy5zY29yZX1weGA7XG4gICAgICAgICAgICB0aGlzLmlzS2V5UHJlc3MgPSBmYWxzZTtcbiAgICAgICAgICAgIC8vIGluc2VydGluZyB0aGlzIGFtb3VudCBpbiBET01cbiAgICAgICAgICAgIGN1YmVTY29yZUVsZW1lbnQhLnRleHRDb250ZW50ID0gYC0ke3BvaW50fWA7XG4gICAgICAgICAgICBzY29yZUVsZW1lbnQhLnRleHRDb250ZW50ID0gYCR7dGhpcy5zY29yZX1gO1xuICAgICAgICAgICAgdGhpcy5jaGVja2luZ1Njb3JlKHRoaXMuc2NvcmUpO1xuICAgICAgICB9XG4gICAgfVxuXG4gICAgLy8gc3RvcHBpbmcgYW5pbWF0aW9uIHdpdGggbGl0dGxlIGRlbGV5IHRvIGFwcGx5IHN0eWxlcyBjb3JyZWN0bHlcbiAgICBwcml2YXRlIHN0b3BBbmltYXRpb24oKSB7XG4gICAgICAgIC8vIHNldCB0cmFuc2l0aW9uIDAgc2Vjb25kIHRvIGRpc2FibGUgc21vb3RobmVzc1xuICAgICAgICBwcm9ncmVzc0JvdHRvbSEuc3R5bGUudHJhbnNpdGlvbiA9ICdub25lJztcbiAgICAgICAgcHJvZ3Jlc3NMZWZ0IS5zdHlsZS50cmFuc2l0aW9uID0gJ25vbmUnO1xuICAgICAgICBwcm9ncmVzc1RvcCEuc3R5bGUudHJhbnNpdGlvbiA9ICdub25lJztcbiAgICAgICAgcHJvZ3Jlc3NSaWdodCEuc3R5bGUudHJhbnNpdGlvbiA9ICdub25lJztcbiAgICAgICAgLy8gcmV0dXJuIHRoZSBwcm9ncmVzcyBsaW5lIHRvIHRoZSBkZWZhdWx0IHBvc2l0aW9uXG4gICAgICAgIHByb2dyZXNzQm90dG9tIS5zdHlsZS53aWR0aCA9ICcwJztcbiAgICAgICAgcHJvZ3Jlc3NMZWZ0IS5zdHlsZS5oZWlnaHQgPSAnMCc7XG4gICAgICAgIHByb2dyZXNzVG9wIS5zdHlsZS53aWR0aCA9ICcwJztcbiAgICAgICAgcHJvZ3Jlc3NSaWdodCEuc3R5bGUuaGVpZ2h0ID0gJzAnO1xuICAgICAgICAvLyB0dXJuIG9uIHNtb290aG5lc3NcbiAgICAgICAgc2V0VGltZW91dCgoKSA9PiB7XG4gICAgICAgICAgICBwcm9ncmVzc0JvdHRvbSEuc3R5bGUudHJhbnNpdGlvbiA9ICcuNDhzIGFsbCBsaW5lYXInO1xuICAgICAgICAgICAgcHJvZ3Jlc3NMZWZ0IS5zdHlsZS50cmFuc2l0aW9uID0gJy40OHMgYWxsIGxpbmVhcic7XG4gICAgICAgICAgICBwcm9ncmVzc1RvcCEuc3R5bGUudHJhbnNpdGlvbiA9ICcuNDhzIGFsbCBsaW5lYXInO1xuICAgICAgICAgICAgcHJvZ3Jlc3NSaWdodCEuc3R5bGUudHJhbnNpdGlvbiA9ICcuNDhzIGFsbCBsaW5lYXInO1xuICAgICAgICB9LCA0MCk7XG4gICAgfVxuXG4gICAgLy8gc3J0aW5nIGFuaW1hdGlvbiBldmVyeSB0d28gc2Vjb25kXG4gICAgcHJpdmF0ZSBzdGFydEFuaW1hdGlvbigpIHtcbiAgICAgICAga2V5RWxlbWVudCEuY2xhc3NMaXN0LnJlcGxhY2UoJ2hpZGRlbicsICdhbmltYXRlZCcpO1xuICAgICAgICBrZXlFbGVtZW50IS5jbGFzc0xpc3QucmVwbGFjZSgnaGlkZGVuLWFuaW1hdGVkJywgJ2FuaW1hdGVkJyk7XG4gICAgICAgIC8vIGdhbmVyYXRlIGNoYXJhY3RlcnMgZXZlcnkgdHdvIHNlY29uZFxuICAgICAgICB0aGlzLmdlbmVyYXRlTGV0dGVyKCk7XG4gICAgICAgIC8vIHN0YXJ0IHByb2dyZXNzIGJhciBhbmltYXRpb25zIHdpdGggZGVsZXkgZm9yIGVhY2ggLyBib3R0b20gbGluZVxuICAgICAgICB0aGlzLnRpbWVyQm90dG9tID0gd2luZG93LnNldFRpbWVvdXQoKCkgPT4gcHJvZ3Jlc3NCb3R0b20hLnN0eWxlLndpZHRoID0gJzEwMCUnLCA1MCk7XG4gICAgICAgIHRoaXMudGltZXJsZWZ0ID0gd2luZG93LnNldFRpbWVvdXQoKCkgPT4gcHJvZ3Jlc3NMZWZ0IS5zdHlsZS5oZWlnaHQgPSAnMTAwJScsIDQ4MCk7XG4gICAgICAgIHRoaXMudGltZXJUb3AgPSB3aW5kb3cuc2V0VGltZW91dCgoKSA9PiBwcm9ncmVzc1RvcCEuc3R5bGUud2lkdGggPSAnMTAwJScsIDk2MCk7XG4gICAgICAgIHRoaXMudGltZXJSaWdodCA9IHdpbmRvdy5zZXRUaW1lb3V0KCgpID0+IHtcbiAgICAgICAgICAgIHByb2dyZXNzUmlnaHQhLnN0eWxlLmhlaWdodCA9ICcxMDAlJztcbiAgICAgICAgICAgIGtleUVsZW1lbnQhLmNsYXNzTGlzdC5yZXBsYWNlKCdhbmltYXRlZC1vbi1wcmVzcycsICdoaWRkZW4tYW5pbWF0ZWQnKTtcbiAgICAgICAgICAgIGtleUVsZW1lbnQhLmNsYXNzTGlzdC5yZXBsYWNlKCdhbmltYXRlZCcsICdoaWRkZW4tYW5pbWF0ZWQnKTtcbiAgICAgICAgfSwgMTQ0MCk7XG4gICAgICAgIHRoaXMuZGlzYWJsZUFuaW1hdGlvbiA9IHdpbmRvdy5zZXRUaW1lb3V0KCgpID0+IHtcbiAgICAgICAgICAgIHRoaXMuc3RvcEFuaW1hdGlvbigpO1xuICAgICAgICAgICAgdGhpcy5nYW5lcmF0ZVBvaW50KGZhbHNlKTtcbiAgICAgICAgfSwgMTkyMCk7XG4gICAgfVxuXG4gICAgLy8gY2xlYXQgYWxsIHRpbWVyIHRvIHN0YXJ0IG5ldyBjaWNsIGFuaW1hdGlvbiBvciBzdG9wIHRoZSBnYW1lXG4gICAgcHJpdmF0ZSBzdG9wcGluZ1RpbWVycygpIHtcbiAgICAgICAgY2xlYXJJbnRlcnZhbCh0aGlzLmRpc2FibGVBbmltYXRpb24pO1xuICAgICAgICBjbGVhckludGVydmFsKHRoaXMuYW5pbWF0aW9uVGltZXIpO1xuICAgICAgICBjbGVhckludGVydmFsKHRoaXMudGltZXJSaWdodCk7XG4gICAgICAgIGNsZWFySW50ZXJ2YWwodGhpcy50aW1lclRvcCk7XG4gICAgICAgIGNsZWFySW50ZXJ2YWwodGhpcy50aW1lcmxlZnQpO1xuICAgICAgICBjbGVhckludGVydmFsKHRoaXMudGltZXJCb3R0b20pO1xuICAgIH1cblxuICAgIC8vIHJlc3RhcnQgY3ljbGUgb2YgYW5pbWF0aW9uIHdoZSBrZXkgcHJlc3NlZFxuICAgIHByaXZhdGUgcmVzdGFydEN5Y2xlKCkge1xuICAgICAgICBrZXlFbGVtZW50IS50ZXh0Q29udGVudCA9ICcnO1xuICAgICAgICAvLyBzZXR0aW5nIHRoZSBzYW1lIGFuaW1hdGlvbiBidXQgd2l0aCBkaWZmZXJlbnQgYW5pbWF0aW9uIG5hbWUgdG8gY29ycmVjdGx5IHdvcmtcbiAgICAgICAgaWYgKGtleUVsZW1lbnQhLmNsYXNzTGlzdC5jb250YWlucygnYW5pbWF0ZWQtb24tcHJlc3MnKSkge1xuICAgICAgICAgICAga2V5RWxlbWVudCEuY2xhc3NMaXN0LnJlcGxhY2UoJ2FuaW1hdGVkLW9uLXByZXNzJywgJ2FuaW1hdGVkJyk7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICBrZXlFbGVtZW50IS5jbGFzc0xpc3QucmVwbGFjZSgnYW5pbWF0ZWQnLCAnYW5pbWF0ZWQtb24tcHJlc3MnKTtcbiAgICAgICAgfVxuICAgICAgICB0aGlzLnN0b3BBbmltYXRpb24oKTtcbiAgICAgICAgLy8gbmVlZGVkIGEgbGl0dGxlIGRlbGF5IGZvciBhbGwgc3R5bGVzIHRvIGJlIHNldCBpbiBvcmRlciBhbmQgd29yayBjb3JyZWN0bHlcbiAgICAgICAgc2V0VGltZW91dCgoKSA9PiB7XG4gICAgICAgICAgICB0aGlzLnN0b3BwaW5nVGltZXJzKCk7XG4gICAgICAgICAgICB0aGlzLnN0YXJ0QW5pbWF0aW9uKCk7XG4gICAgICAgICAgICB0aGlzLmN5Y2xlUHJvZ3Jlc3NBbmltYXRpb24oKTtcbiAgICAgICAgfSwgNTApO1xuICAgIH1cblxuICAgIC8vIGlkZW50aWZ5IHRoZSBrZXkgdGhhdCB3YXMgcHJlc3NlZFxuICAgIHByaXZhdGUgc3VibWl0dGluZyA9IChlOiBhbnkpID0+IHtcbiAgICAgICAgY29uc3QgcHJlc3NlZEtleTogc3RyaW5nID0gZS5rZXk7XG4gICAgICAgIGNvbnN0IHNob3dlZENoYXJhY3RlcnM6IHN0cmluZyA9IHRoaXMucmFuZG9tQ2hhcmFjdGVycy50b0xvY2FsZUxvd2VyQ2FzZSgpO1xuICAgICAgICBpZiAocHJlc3NlZEtleSA9PT0gc2hvd2VkQ2hhcmFjdGVycykge1xuICAgICAgICAgICAgdGhpcy5nYW5lcmF0ZVBvaW50KHRydWUpO1xuICAgICAgICB9XG4gICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgdGhpcy5pc0tleVByZXNzID0gdHJ1ZTtcbiAgICAgICAgICAgIHRoaXMuZ2FuZXJhdGVQb2ludChmYWxzZSk7XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICBzdGFydCgpIHtcbiAgICAgICAgdGhpcy5jb3VudGluZygpO1xuICAgICAgICB0aGlzLmN5Y2xlUHJvZ3Jlc3NBbmltYXRpb24oKTtcbiAgICAgICAgbm90aWZpY2F0aW9uIS50ZXh0Q29udGVudCA9ICcnO1xuICAgIH1cblxuICAgIHN0b3BHYW1lKCkge1xuICAgICAgICBrZXlFbGVtZW50IS50ZXh0Q29udGVudCA9ICcnO1xuICAgICAgICBub3RpZmljYXRpb24hLnRleHRDb250ZW50ID0gJyc7XG4gICAgICAgIHRoaXMuc3RvcHBpbmdUaW1lcnMoKTtcbiAgICAgICAgcHJvZ3Jlc3NCb3R0b20hLnN0eWxlLndpZHRoID0gJzAnO1xuICAgICAgICB0aGlzLnN0b3BBbmltYXRpb24oKTtcbiAgICAgICAgZG9jdW1lbnQucmVtb3ZlRXZlbnRMaXN0ZW5lcigna2V5cHJlc3MnLCB0aGlzLnN1Ym1pdHRpbmcpO1xuICAgIH1cblxuICAgIHJlc3RhcnQoKSB7XG4gICAgICAgIHRoaXMuc2NvcmUgPSAxMDA7XG4gICAgICAgIHNjb3JlRWxlbWVudCEudGV4dENvbnRlbnQgPSAnMTAwJztcbiAgICAgICAgY3ViZVNjb3JlRWxlbWVudCEudGV4dENvbnRlbnQgPSAnMCc7XG4gICAgICAgIGN1YmVFbGVtZW50IS5zdHlsZS53aWR0aCA9IGAxMDBweGA7XG4gICAgICAgIGN1YmVFbGVtZW50IS5zdHlsZS5oZWlnaHQgPSBgMTAwcHhgO1xuICAgICAgICB0aGlzLnN0b3BHYW1lKCk7XG4gICAgfVxufVxuXG5jb25zdCBnYW1lID0gbmV3IEdhbWUoXG4gICAgc2NvcmVFbGVtZW50ISxcbiAgICBjdWJlU2NvcmVFbGVtZW50ISxcbiAgICBjdWJlRWxlbWVudCEsXG4gICAga2V5RWxlbWVudCEsXG4gICAgcHJvZ3Jlc3NCb3R0b20hLFxuICAgIHByb2dyZXNzTGVmdCEsXG4gICAgcHJvZ3Jlc3NUb3AhLFxuICAgIHByb2dyZXNzUmlnaHQhLFxuICAgIHN0YXJ0QnRuISxcbiAgICBzdG9wQnRuIVxuKTtcblxuZnVuY3Rpb24gc3RhcnQoKSB7XG4gICAgZ2FtZS5zdGFydCgpO1xuICAgIHN0YXJ0QnRuIS5kaXNhYmxlZCA9IHRydWU7XG4gICAgc2V0VGltZW91dCgoKSA9PiBzdG9wQnRuIS5kaXNhYmxlZCA9IGZhbHNlLCAyMDAwKTtcbn1cblxuZnVuY3Rpb24gc3RvcCgpIHtcbiAgICBzdGFydEJ0biEuZGlzYWJsZWQgPSBmYWxzZTtcbiAgICBzdG9wQnRuIS5kaXNhYmxlZCA9IHRydWU7XG4gICAgZ2FtZS5zdG9wR2FtZSgpO1xufVxuXG5mdW5jdGlvbiByZXN0YXJ0KCkge1xuICAgIHN0b3BCdG4hLmRpc2FibGVkID0gdHJ1ZTtcbiAgICBzdGFydEJ0biEuZGlzYWJsZWQgPSBmYWxzZTtcbiAgICBnYW1lLnJlc3RhcnQoKTtcbn1cblxuc3RhcnRCdG4hLmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgc3RhcnQpO1xuc3RvcEJ0biEuYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCBzdG9wKTtcbm5ld0dhbWVCdG4hLmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgcmVzdGFydCk7XG4iXSwic291cmNlUm9vdCI6IiJ9
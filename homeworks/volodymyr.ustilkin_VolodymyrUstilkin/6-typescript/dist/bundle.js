(()=>{var e=document.querySelector("[data-score]"),t=document.querySelector("[data-cube]"),r=document.querySelector("[data-cube-score]"),n=document.querySelector("[data-key]"),i=document.querySelector("[data-progress-bar]");new(function(){function e(e,t,r,n,i){this.scoreElement=e,this.cubeScoreElement=t,this.keyElement=r,this.cubeElement=n,this.progressBarElement=i,this.score=100,this.currentKey="",this.interval=2e3,this.intervalId=0,this.intervalEventDelay=100,this.currentEventTime=0}return e.prototype.start=function(){this.subscribeOnKeyPress(),this.startKeysInterval(),this.generateKey()},e.prototype.startKeysInterval=function(){this.intervalId=window.setInterval(this.intervalEvent,this.intervalEventDelay,this)},e.prototype.intervalEvent=function(e){e.currentEventTime+=e.intervalEventDelay,e.changeProgressBar(),e.currentEventTime>e.interval&&(e.addScore(e.generateNumber(-10,-15)),e.resetEvent(),console.log("time failed"))},e.prototype.changeProgressBar=function(){this.interval;this.interval,this.progressBarElement.style.width=String(100-this.currentEventTime/this.interval*100)+"%",console.log(this.currentEventTime/this.interval)},e.prototype.setScore=function(e){this.scoreElement.innerHTML=e>=0?"+"+e.toString():e.toString(),e>200&&(alert("victory"),this.restartGame()),e<0&&(alert("loss"),this.restartGame())},e.prototype.restartGame=function(){this.scoreElement.innerHTML=this.score.toString(),this.cubeScoreElement.innerHTML="",window.clearInterval(this.intervalId)},e.prototype.setKey=function(e){if(e.toUpperCase()===n.innerHTML){var t=this.generateNumber(5,10);this.addScore(t)}else this.addScore(this.generateNumber(-20,-25));this.resetEvent()},e.prototype.resetEvent=function(){this.currentEventTime=0,this.generateKey()},e.prototype.addScore=function(e){var t=Number.parseInt(this.scoreElement.innerHTML);this.cubeScoreElement.innerHTML=e.toString(),this.setScore(t+e)},e.prototype.subscribeOnKeyPress=function(){var e=this;document.addEventListener("keypress",(function(t){e.setKey(t.key)}))},e.prototype.generateKey=function(){var e="A".charCodeAt(0),t="Z".charCodeAt(0),r=this.generateNumber(e,t);n.innerHTML=String.fromCharCode(r)},e.prototype.generateNumber=function(e,t){return Math.floor(Math.random()*Math.floor(t-e))+e},e}())(e,r,n,t,i).start()})();
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly82LXR5cGVzY3JpcHQvLi9zcmMvaW5kZXgudHMiXSwibmFtZXMiOlsic2NvcmVFbGVtZW50IiwiZG9jdW1lbnQiLCJxdWVyeVNlbGVjdG9yIiwiY3ViZUVsZW1lbnQiLCJjdWJlU2NvcmVFbGVtZW50Iiwia2V5RWxlbWVudCIsInByb2dyZXNzQmFyRWxlbWVudCIsInNjb3JlIiwiY3VycmVudEtleSIsImludGVydmFsIiwiaW50ZXJ2YWxJZCIsImludGVydmFsRXZlbnREZWxheSIsImN1cnJlbnRFdmVudFRpbWUiLCJzdGFydCIsInRoaXMiLCJzdWJzY3JpYmVPbktleVByZXNzIiwic3RhcnRLZXlzSW50ZXJ2YWwiLCJnZW5lcmF0ZUtleSIsIndpbmRvdyIsInNldEludGVydmFsIiwiaW50ZXJ2YWxFdmVudCIsImN1cnJlbnQiLCJjaGFuZ2VQcm9ncmVzc0JhciIsImFkZFNjb3JlIiwiZ2VuZXJhdGVOdW1iZXIiLCJyZXNldEV2ZW50IiwiY29uc29sZSIsImxvZyIsInN0eWxlIiwid2lkdGgiLCJTdHJpbmciLCJzZXRTY29yZSIsImlubmVySFRNTCIsInRvU3RyaW5nIiwiYWxlcnQiLCJyZXN0YXJ0R2FtZSIsImNsZWFySW50ZXJ2YWwiLCJzZXRLZXkiLCJrZXkiLCJ0b1VwcGVyQ2FzZSIsImN1cnJlbnRTY29yZSIsIk51bWJlciIsInBhcnNlSW50IiwiYWRkRXZlbnRMaXN0ZW5lciIsImV2ZW50IiwiYUNvZGUiLCJjaGFyQ29kZUF0IiwiekNvZGUiLCJnZW5lcmF0ZWRDb2RlIiwiZnJvbUNoYXJDb2RlIiwibWluIiwibWF4IiwiTWF0aCIsImZsb29yIiwicmFuZG9tIl0sIm1hcHBpbmdzIjoiTUFBQSxJQUFNQSxFQUFlQyxTQUFTQyxjQUFjLGdCQUN0Q0MsRUFBY0YsU0FBU0MsY0FBYyxlQUNyQ0UsRUFBbUJILFNBQVNDLGNBQWMscUJBQzFDRyxFQUFhSixTQUFTQyxjQUFjLGNBQ3BDSSxFQUFxQkwsU0FBU0MsY0FBYyx1QkF3R3JDLElBdEdiLFdBUUksV0FDWUYsRUFDQUksRUFDQUMsRUFDQUYsRUFDQUcsR0FKQSxLQUFBTixlQUNBLEtBQUFJLG1CQUNBLEtBQUFDLGFBQ0EsS0FBQUYsY0FDQSxLQUFBRyxxQkFaSixLQUFBQyxNQUFnQixJQUNoQixLQUFBQyxXQUFxQixHQUNyQixLQUFBQyxTQUFtQixJQUNuQixLQUFBQyxXQUFzQixFQUN0QixLQUFBQyxtQkFBNkIsSUFDN0IsS0FBQUMsaUJBQTJCLEVBOEZ2QyxPQW5GSSxZQUFBQyxNQUFBLFdBQ0lDLEtBQUtDLHNCQUNMRCxLQUFLRSxvQkFDTEYsS0FBS0csZUFHRCxZQUFBRCxrQkFBUixXQUNJRixLQUFLSixXQUFhUSxPQUFPQyxZQUFZTCxLQUFLTSxjQUFlTixLQUFLSCxtQkFBb0JHLE9BRzlFLFlBQUFNLGNBQVIsU0FBc0JDLEdBQ2xCQSxFQUFRVCxrQkFBb0JTLEVBQVFWLG1CQUNwQ1UsRUFBUUMsb0JBQ0pELEVBQVFULGlCQUFtQlMsRUFBUVosV0FDbkNZLEVBQVFFLFNBQVNGLEVBQVFHLGdCQUFnQixJQUFLLEtBQzlDSCxFQUFRSSxhQUNSQyxRQUFRQyxJQUFJLGlCQUlaLFlBQUFMLGtCQUFSLFdBQ2lDUixLQUFLTCxTQUN2QkssS0FBS0wsU0FFaEJLLEtBQUtSLG1CQUFtQnNCLE1BQU1DLE1BQVFDLE9BQU8sSUFBTWhCLEtBQUtGLGlCQUFpQkUsS0FBS0wsU0FBUyxLQUFNLElBQzdGaUIsUUFBUUMsSUFBSWIsS0FBS0YsaUJBQWlCRSxLQUFLTCxXQUluQyxZQUFBc0IsU0FBUixTQUFpQnhCLEdBQ2JPLEtBQUtkLGFBQWFnQyxVQUFZekIsR0FBUyxFQUFJLElBQU1BLEVBQU0wQixXQUFhMUIsRUFBTTBCLFdBQ3RFMUIsRUFBUSxNQUNSMkIsTUFBTSxXQUNOcEIsS0FBS3FCLGVBRUw1QixFQUFRLElBQ1IyQixNQUFNLFFBQ05wQixLQUFLcUIsZ0JBSUwsWUFBQUEsWUFBUixXQUNJckIsS0FBS2QsYUFBYWdDLFVBQVlsQixLQUFLUCxNQUFNMEIsV0FDekNuQixLQUFLVixpQkFBaUI0QixVQUFZLEdBQ2xDZCxPQUFPa0IsY0FBY3RCLEtBQUtKLGFBR3RCLFlBQUEyQixPQUFSLFNBQWVDLEdBQ1gsR0FBSUEsRUFBSUMsZ0JBQWtCbEMsRUFBVzJCLFVBQVcsQ0FDNUMsSUFBSXpCLEVBQWdCTyxLQUFLVSxlQUFlLEVBQUcsSUFDM0NWLEtBQUtTLFNBQVNoQixRQUVkTyxLQUFLUyxTQUFTVCxLQUFLVSxnQkFBZ0IsSUFBSyxLQUU1Q1YsS0FBS1csY0FHRCxZQUFBQSxXQUFSLFdBQ0lYLEtBQUtGLGlCQUFtQixFQUN4QkUsS0FBS0csZUFHRCxZQUFBTSxTQUFSLFNBQWlCaEIsR0FDYixJQUFJaUMsRUFBdUJDLE9BQU9DLFNBQVM1QixLQUFLZCxhQUFhZ0MsV0FDN0RsQixLQUFLVixpQkFBaUI0QixVQUFZekIsRUFBTTBCLFdBQ3hDbkIsS0FBS2lCLFNBQVNTLEVBQWVqQyxJQUl6QixZQUFBUSxvQkFBUixzQkFDSWQsU0FBUzBDLGlCQUFpQixZQUFZLFNBQUNDLEdBQTBCLEVBQUtQLE9BQU9PLEVBQU1OLFNBRy9FLFlBQUFyQixZQUFSLFdBQ0ksSUFBSTRCLEVBQWdCLElBQUlDLFdBQVcsR0FDL0JDLEVBQWdCLElBQUlELFdBQVcsR0FDL0JFLEVBQXdCbEMsS0FBS1UsZUFBZXFCLEVBQU9FLEdBQ3ZEMUMsRUFBVzJCLFVBQVlGLE9BQU9tQixhQUFhRCxJQUd2QyxZQUFBeEIsZUFBUixTQUF3QjBCLEVBQWFDLEdBQ2pDLE9BQU9DLEtBQUtDLE1BQU1ELEtBQUtFLFNBQVdGLEtBQUtDLE1BQU1GLEVBQU1ELElBQVFBLEdBRW5FLEVBcEdBLEdBc0dhLENBQVNsRCxFQUFjSSxFQUFrQkMsRUFBWUYsRUFBYUcsR0FFMUVPLFMiLCJmaWxlIjoiYnVuZGxlLmpzIiwic291cmNlc0NvbnRlbnQiOlsiY29uc3Qgc2NvcmVFbGVtZW50ID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignW2RhdGEtc2NvcmVdJykgYXMgSFRNTEhlYWRpbmdFbGVtZW50O1xuY29uc3QgY3ViZUVsZW1lbnQgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCdbZGF0YS1jdWJlXScpIGFzIEhUTUxEaXZFbGVtZW50O1xuY29uc3QgY3ViZVNjb3JlRWxlbWVudCA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJ1tkYXRhLWN1YmUtc2NvcmVdJykgYXMgSFRNTERpdkVsZW1lbnQ7XG5jb25zdCBrZXlFbGVtZW50ID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignW2RhdGEta2V5XScpIGFzIEhUTUxEaXZFbGVtZW50O1xuY29uc3QgcHJvZ3Jlc3NCYXJFbGVtZW50ID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignW2RhdGEtcHJvZ3Jlc3MtYmFyXScpIGFzIEhUTUxEaXZFbGVtZW50O1xuXG5jbGFzcyBHYW1lIHtcbiAgICBwcml2YXRlIHNjb3JlOiBudW1iZXIgPSAxMDA7XG4gICAgcHJpdmF0ZSBjdXJyZW50S2V5OiBzdHJpbmcgPSAnJztcbiAgICBwcml2YXRlIGludGVydmFsOiBudW1iZXIgPSAyMDAwO1xuICAgIHByaXZhdGUgaW50ZXJ2YWxJZCA6IG51bWJlciA9IDA7XG4gICAgcHJpdmF0ZSBpbnRlcnZhbEV2ZW50RGVsYXk6IG51bWJlciA9IDEwMDtcbiAgICBwcml2YXRlIGN1cnJlbnRFdmVudFRpbWU6IG51bWJlciA9IDA7XG5cbiAgICBjb25zdHJ1Y3RvcihcbiAgICAgICAgcHJpdmF0ZSBzY29yZUVsZW1lbnQ6IEhUTUxIZWFkaW5nRWxlbWVudCxcbiAgICAgICAgcHJpdmF0ZSBjdWJlU2NvcmVFbGVtZW50OiBIVE1MRGl2RWxlbWVudCxcbiAgICAgICAgcHJpdmF0ZSBrZXlFbGVtZW50OiBIVE1MRGl2RWxlbWVudCxcbiAgICAgICAgcHJpdmF0ZSBjdWJlRWxlbWVudDogSFRNTERpdkVsZW1lbnQsXG4gICAgICAgIHByaXZhdGUgcHJvZ3Jlc3NCYXJFbGVtZW50OiBIVE1MRGl2RWxlbWVudCxcbiAgICApIHtcbiAgICB9XG5cbiAgICBzdGFydCgpIHtcbiAgICAgICAgdGhpcy5zdWJzY3JpYmVPbktleVByZXNzKCk7XG4gICAgICAgIHRoaXMuc3RhcnRLZXlzSW50ZXJ2YWwoKTtcbiAgICAgICAgdGhpcy5nZW5lcmF0ZUtleSgpO1xuICAgIH1cblxuICAgIHByaXZhdGUgc3RhcnRLZXlzSW50ZXJ2YWwoKSB7XG4gICAgICAgIHRoaXMuaW50ZXJ2YWxJZCA9IHdpbmRvdy5zZXRJbnRlcnZhbCh0aGlzLmludGVydmFsRXZlbnQsIHRoaXMuaW50ZXJ2YWxFdmVudERlbGF5LCB0aGlzKTtcbiAgICB9XG5cbiAgICBwcml2YXRlIGludGVydmFsRXZlbnQoY3VycmVudCA6IEdhbWUpIHtcbiAgICAgICAgY3VycmVudC5jdXJyZW50RXZlbnRUaW1lICs9IGN1cnJlbnQuaW50ZXJ2YWxFdmVudERlbGF5O1xuICAgICAgICBjdXJyZW50LmNoYW5nZVByb2dyZXNzQmFyKCk7XG4gICAgICAgIGlmIChjdXJyZW50LmN1cnJlbnRFdmVudFRpbWUgPiBjdXJyZW50LmludGVydmFsKSB7XG4gICAgICAgICAgICBjdXJyZW50LmFkZFNjb3JlKGN1cnJlbnQuZ2VuZXJhdGVOdW1iZXIoLTEwLCAtMTUpKTtcbiAgICAgICAgICAgIGN1cnJlbnQucmVzZXRFdmVudCgpO1xuICAgICAgICAgICAgY29uc29sZS5sb2coJ3RpbWUgZmFpbGVkJyk7XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICBwcml2YXRlIGNoYW5nZVByb2dyZXNzQmFyKCkge1xuICAgICAgICBsZXQgbWF4U2l6ZSA6IG51bWJlciA9IDIwMCAvIHRoaXMuaW50ZXJ2YWw7XG4gICAgICAgIGxldCBzdGVwID0gdGhpcy5pbnRlcnZhbCAvIG1heFNpemU7XG4gICAgICAgIGxldCBzaXplIDogbnVtYmVyID0gMjAwO1xuICAgICAgICB0aGlzLnByb2dyZXNzQmFyRWxlbWVudC5zdHlsZS53aWR0aCA9IFN0cmluZygxMDAgLSB0aGlzLmN1cnJlbnRFdmVudFRpbWUvdGhpcy5pbnRlcnZhbCoxMDApICsnJSc7XG4gICAgICAgIGNvbnNvbGUubG9nKHRoaXMuY3VycmVudEV2ZW50VGltZS90aGlzLmludGVydmFsKTtcblxuICAgIH1cblxuICAgIHByaXZhdGUgc2V0U2NvcmUoc2NvcmU6IG51bWJlcikge1xuICAgICAgICB0aGlzLnNjb3JlRWxlbWVudC5pbm5lckhUTUwgPSBzY29yZSA+PSAwID8gJysnICsgc2NvcmUudG9TdHJpbmcoKSA6IHNjb3JlLnRvU3RyaW5nKCk7XG4gICAgICAgIGlmIChzY29yZSA+IDIwMCkge1xuICAgICAgICAgICAgYWxlcnQoJ3ZpY3RvcnknKTtcbiAgICAgICAgICAgIHRoaXMucmVzdGFydEdhbWUoKTtcbiAgICAgICAgfVxuICAgICAgICBpZiAoc2NvcmUgPCAwKSB7XG4gICAgICAgICAgICBhbGVydCgnbG9zcycpO1xuICAgICAgICAgICAgdGhpcy5yZXN0YXJ0R2FtZSgpO1xuICAgICAgICB9XG4gICAgfVxuXG4gICAgcHJpdmF0ZSByZXN0YXJ0R2FtZSgpIHtcbiAgICAgICAgdGhpcy5zY29yZUVsZW1lbnQuaW5uZXJIVE1MID0gdGhpcy5zY29yZS50b1N0cmluZygpO1xuICAgICAgICB0aGlzLmN1YmVTY29yZUVsZW1lbnQuaW5uZXJIVE1MID0gJyc7XG4gICAgICAgIHdpbmRvdy5jbGVhckludGVydmFsKHRoaXMuaW50ZXJ2YWxJZCk7XG4gICAgfVxuXG4gICAgcHJpdmF0ZSBzZXRLZXkoa2V5OiBzdHJpbmcpIHtcbiAgICAgICAgaWYgKGtleS50b1VwcGVyQ2FzZSgpID09PSBrZXlFbGVtZW50LmlubmVySFRNTCkge1xuICAgICAgICAgICAgbGV0IHNjb3JlOiBudW1iZXIgPSB0aGlzLmdlbmVyYXRlTnVtYmVyKDUsIDEwKTtcbiAgICAgICAgICAgIHRoaXMuYWRkU2NvcmUoc2NvcmUpO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgdGhpcy5hZGRTY29yZSh0aGlzLmdlbmVyYXRlTnVtYmVyKC0yMCwgLTI1KSk7O1xuICAgICAgICB9XG4gICAgICAgIHRoaXMucmVzZXRFdmVudCgpO1xuICAgIH1cblxuICAgIHByaXZhdGUgcmVzZXRFdmVudCgpIHtcbiAgICAgICAgdGhpcy5jdXJyZW50RXZlbnRUaW1lID0gMDtcbiAgICAgICAgdGhpcy5nZW5lcmF0ZUtleSgpO1xuICAgIH1cblxuICAgIHByaXZhdGUgYWRkU2NvcmUoc2NvcmU6IG51bWJlcikge1xuICAgICAgICBsZXQgY3VycmVudFNjb3JlOiBudW1iZXIgPSBOdW1iZXIucGFyc2VJbnQodGhpcy5zY29yZUVsZW1lbnQuaW5uZXJIVE1MKTtcbiAgICAgICAgdGhpcy5jdWJlU2NvcmVFbGVtZW50LmlubmVySFRNTCA9IHNjb3JlLnRvU3RyaW5nKCk7XG4gICAgICAgIHRoaXMuc2V0U2NvcmUoY3VycmVudFNjb3JlICsgc2NvcmUpO1xuXG4gICAgfVxuXG4gICAgcHJpdmF0ZSBzdWJzY3JpYmVPbktleVByZXNzKCkge1xuICAgICAgICBkb2N1bWVudC5hZGRFdmVudExpc3RlbmVyKCdrZXlwcmVzcycsIChldmVudDogS2V5Ym9hcmRFdmVudCkgPT4ge3RoaXMuc2V0S2V5KGV2ZW50LmtleSl9KVxuICAgIH1cblxuICAgIHByaXZhdGUgZ2VuZXJhdGVLZXkoKTogdm9pZCB7XG4gICAgICAgIGxldCBhQ29kZSA6bnVtYmVyID0gJ0EnLmNoYXJDb2RlQXQoMCk7XG4gICAgICAgIGxldCB6Q29kZSA6bnVtYmVyID0gJ1onLmNoYXJDb2RlQXQoMCk7XG4gICAgICAgIGxldCBnZW5lcmF0ZWRDb2RlOiBudW1iZXIgPSB0aGlzLmdlbmVyYXRlTnVtYmVyKGFDb2RlLCB6Q29kZSk7XG4gICAgICAgIGtleUVsZW1lbnQuaW5uZXJIVE1MID0gU3RyaW5nLmZyb21DaGFyQ29kZShnZW5lcmF0ZWRDb2RlKTtcbiAgICB9XG5cbiAgICBwcml2YXRlIGdlbmVyYXRlTnVtYmVyIChtaW46IG51bWJlciwgbWF4IDogbnVtYmVyKSA6IG51bWJlciB7XG4gICAgICAgIHJldHVybiBNYXRoLmZsb29yKE1hdGgucmFuZG9tKCkgKiBNYXRoLmZsb29yKG1heCAtIG1pbikpICsgbWluO1xuICAgIH1cbn1cblxuY29uc3QgZ2FtZSA9IG5ldyBHYW1lKHNjb3JlRWxlbWVudCwgY3ViZVNjb3JlRWxlbWVudCwga2V5RWxlbWVudCwgY3ViZUVsZW1lbnQsIHByb2dyZXNzQmFyRWxlbWVudCk7XG5cbmdhbWUuc3RhcnQoKTtcbiJdLCJzb3VyY2VSb290IjoiIn0=
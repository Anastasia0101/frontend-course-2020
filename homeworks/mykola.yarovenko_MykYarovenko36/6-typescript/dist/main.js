(()=>{var t=document.querySelector("[data-current-points]"),e=document.querySelector("[data-plus-points]"),n=document.querySelector("[data-minus-points]"),r=document.querySelector("[data-game__key]"),i=document.querySelector("[data-btn-play]"),o=document.querySelector("[data-btn-stop]"),s=document.querySelector("[data-btn-clear-score]"),a=document.querySelectorAll("[date-desktop-keyboard-key]"),c=document.querySelector(".loader_point");new(function(){function t(t,e,n,r,i,o,s,a,c){this.playBtn=t,this.stopBtn=e,this.clearBtn=n,this.desktopKeyboard=r,this.gameKey=i,this.currentScore=o,this.plusScore=s,this.minusScore=a,this.timerLoader=c,this.score=100,this.interval=2e3,this.itemKeys=["Q","W","E","R","T","Y","U","I","O","P","A","S","D","F","G","H","J","K","L","Z","X","C","V","B","N","M"]}return t.prototype.start=function(){var t=this;this.currentScore.innerText=""+this.score,[this.playBtn,this.stopBtn,this.clearBtn].forEach((function(e){e.addEventListener("click",(function(e){var n=e.target;"game-stop"===n.value&&t.gameStop(),"clear-score"===n.value&&t.scoreClear(),"game-start"===n.value&&t.gameStart()}))}))},t.prototype.gameStop=function(){[this.playBtn,this.clearBtn].forEach((function(t){t.disabled=!1})),clearInterval(this.timeInterval),this.timerLoader.style.animation=""},t.prototype.scoreClear=function(){this.gameKey.innerText="",this.currentScore.innerText=""+this.score},t.prototype.gameStart=function(){this.subscribeDesktopInput(),this.subscribeKeyboardInput(),[this.playBtn,this.clearBtn].forEach((function(t){t.disabled=!0})),this.startKeysInterval()},t.prototype.startKeysInterval=function(){var t=this;this.timeInterval=setInterval((function(){t.setKey(t.itemKeys)}),this.interval),this.timerLoader.style.animation="2s infinite slidein"},t.prototype.setKey=function(t){this.gameKey.innerText=t[Math.floor(Math.random()*t.length)]},t.prototype.setPoints=function(){return Math.floor(10*Math.random())+4},t.prototype.setGameMessage=function(t){var e=this;alert(t),this.gameStop(),setTimeout((function(){e.scoreClear()}),1e3)},t.prototype.plusPoints=function(){var t=this,e=Number(this.currentScore.innerText),n=this.setPoints();this.plusScore.innerText="+"+n,e>=200?this.setGameMessage("You WIN!"):this.currentScore.innerText=""+(e+n),setTimeout((function(){t.plusScore.innerText=""}),600)},t.prototype.minusPoints=function(){var t=this,e=Number(this.currentScore.innerText),n=this.setPoints();this.minusScore.innerText="-"+n,e<=0?this.setGameMessage("You LOSE!"):this.currentScore.innerText=""+(e-n),setTimeout((function(){t.minusScore.innerText=""}),600)},t.prototype.subscribeKeyboardInput=function(){var t=this;document.addEventListener("keyup",(function(e){e.key.match(/[a-z]/i)&&e.key.toUpperCase()===t.gameKey.innerText&&t.plusPoints(),e.key.toUpperCase()!==t.gameKey.innerText&&t.minusPoints()}))},t.prototype.subscribeDesktopInput=function(){var t=this;this.desktopKeyboard.forEach((function(e){e.addEventListener("click",(function(e){var n=e.target;n.innerText===t.gameKey.innerText&&t.plusPoints(),n.innerText!==t.gameKey.innerText&&t.minusPoints()}))}))},t}())(i,o,s,a,r,t,e,n,c).start()})();
